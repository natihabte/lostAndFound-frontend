{"version":3,"mappings":"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","names":["BackButton","onClick","darkMode","label","className","t","useTranslation","jsxs","jsx","ArrowLeft","PageHeader","title","subtitle","onBack","backLabel","actions","showBackButton","AdminSettings","currentUser","onUpdateProfile","onChangePassword","defaultTab","activeTab","setActiveTab","useState","loading","setLoading","message","setMessage","profileData","setProfileData","passwordData","setPasswordData","showPasswords","setShowPasswords","systemSettings","setSystemSettings","platformSupport","setPlatformSupport","useEffect","authHelpers","__vitePreload","n","token","user","error","loadSettings","platformResponse","platformSettingsAPI","systemResponse","adminSettingsAPI","timer","handleProfileUpdate","e","response","updatedUser","errorMsg","handlePasswordChange","handleSystemSettingsUpdate","handlePlatformSettingsUpdate","successMsg","actionRequired","tabs","renderMessage","renderProfileSettings","renderSecuritySettings","renderSystemSettings","renderNotificationSettings","renderPlatformSupport","isAdmin","Phone","Shield","Mail","Save","tab"],"ignoreList":[],"sources":["../../src/components/BackButton.jsx","../../src/components/PageHeader.jsx","../../src/pages/admin/AdminSettings.jsx"],"sourcesContent":["import React from 'react';\r\nimport { ArrowLeft } from 'lucide-react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst BackButton = ({ onClick, darkMode, label, className = '' }) => {\r\n  const { t } = useTranslation();\r\n\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={`inline-flex items-center px-4 py-2 rounded-lg transition-all font-medium ${\r\n        darkMode\r\n          ? 'bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white border border-gray-700'\r\n          : 'bg-white text-gray-700 hover:bg-gray-50 hover:text-gray-900 border border-gray-300 shadow-sm'\r\n      } ${className}`}\r\n      aria-label={label || t('navigation.back')}\r\n    >\r\n      <ArrowLeft className=\"h-5 w-5 mr-2\" />\r\n      <span>{label || t('navigation.back')}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default BackButton;\r\n","import React from 'react';\r\nimport BackButton from './BackButton';\r\n\r\nconst PageHeader = ({ \r\n  title, \r\n  subtitle, \r\n  onBack, \r\n  darkMode, \r\n  backLabel,\r\n  actions,\r\n  showBackButton = true \r\n}) => {\r\n  return (\r\n    <div className={`mb-6 ${darkMode ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center space-x-4 flex-1\">\r\n          {showBackButton && onBack && (\r\n            <BackButton \r\n              onClick={onBack} \r\n              darkMode={darkMode} \r\n              label={backLabel}\r\n            />\r\n          )}\r\n          <div className=\"flex-1\">\r\n            <h1 className={`text-2xl md:text-3xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n              {title}\r\n            </h1>\r\n            {subtitle && (\r\n              <p className={`mt-1 text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>\r\n                {subtitle}\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {actions && (\r\n          <div className=\"flex items-center space-x-3\">\r\n            {actions}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageHeader;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { User, Lock, Settings as SettingsIcon, Bell, Save, Shield, Mail, Phone } from 'lucide-react';\r\nimport { platformSettingsAPI, adminSettingsAPI } from '../../services/api';\r\nimport PageHeader from '../../components/PageHeader';\r\n\r\nconst AdminSettings = ({ currentUser, darkMode, onUpdateProfile, onChangePassword, defaultTab = 'profile', onBack }) => {\r\n  const { t } = useTranslation();\r\n  const [activeTab, setActiveTab] = useState(defaultTab);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n\r\n  // Profile settings state\r\n  const [profileData, setProfileData] = useState({\r\n    name: currentUser?.name || '',\r\n    email: currentUser?.email || '',\r\n    phone: currentUser?.phone || '',\r\n    role: currentUser?.role || 'admin'\r\n  });\r\n\r\n  // Password change state\r\n  const [passwordData, setPasswordData] = useState({\r\n    currentPassword: '',\r\n    newPassword: '',\r\n    confirmPassword: ''\r\n  });\r\n\r\n  const [showPasswords, setShowPasswords] = useState({\r\n    current: false,\r\n    new: false,\r\n    confirm: false\r\n  });\r\n\r\n  // System settings state\r\n  const [systemSettings, setSystemSettings] = useState({\r\n    maintenanceMode: false,\r\n    registrationEnabled: true,\r\n    emailNotifications: true,\r\n    autoApproval: false,\r\n    maxFileSize: '5',\r\n    sessionTimeout: '24'\r\n  });\r\n\r\n  // Platform support settings state\r\n  const [platformSupport, setPlatformSupport] = useState({\r\n    enabled: true,\r\n    phoneNumber: '+1-800-555-0123',\r\n    is24x7: true,\r\n    supportEmail: 'support@platform.com',\r\n    flutterAppEnabled: true\r\n  });\r\n\r\n  // Validate authentication token on mount\r\n  useEffect(() => {\r\n    const validateToken = async () => {\r\n      try {\r\n        const { authHelpers } = await import('../../services/api');\r\n        const token = authHelpers.getToken();\r\n        const user = authHelpers.getUser();\r\n\r\n        // Check if token exists\r\n        if (!token) {\r\n          console.warn('No authentication token found');\r\n          setMessage({ \r\n            type: 'error', \r\n            text: 'Authentication required. Please login to continue.' \r\n          });\r\n          return;\r\n        }\r\n\r\n        // Check if user exists\r\n        if (!user) {\r\n          console.warn('No user data found');\r\n          setMessage({ \r\n            type: 'error', \r\n            text: 'User information not found. Please login again.' \r\n          });\r\n          return;\r\n        }\r\n\r\n        console.log('✓ Token validation passed:', { \r\n          hasToken: !!token, \r\n          userEmail: user.email,\r\n          userRole: user.role \r\n        });\r\n      } catch (error) {\r\n        console.error('Token validation error:', error);\r\n      }\r\n    };\r\n\r\n    validateToken();\r\n  }, []); // Run once on mount\r\n\r\n  // Load settings on mount and when currentUser changes\r\n  useEffect(() => {\r\n    const loadSettings = async () => {\r\n      try {\r\n        // Get authentication info\r\n        const { authHelpers } = await import('../../services/api');\r\n        const token = authHelpers.getToken();\r\n        const user = currentUser || authHelpers.getUser();\r\n\r\n        // Skip if not authenticated\r\n        if (!token || !user) {\r\n          return; // Silently skip if not authenticated\r\n        }\r\n\r\n        // Check if user has admin role\r\n        const adminRoles = ['admin', 'hallAdmin', 'orgAdmin'];\r\n        if (!adminRoles.includes(user.role)) {\r\n          return; // Silently skip if not admin\r\n        }\r\n\r\n        // Load platform settings\r\n        const platformResponse = await platformSettingsAPI.get();\r\n        if (platformResponse.success && platformResponse.data.support) {\r\n          setPlatformSupport(platformResponse.data.support);\r\n        }\r\n\r\n        // Load system settings\r\n        const systemResponse = await adminSettingsAPI.getSystemSettings();\r\n        if (systemResponse.success && systemResponse.data) {\r\n          setSystemSettings(systemResponse.data);\r\n        }\r\n      } catch (error) {\r\n        // Silently handle errors on initial load\r\n        console.error('Failed to load settings:', error);\r\n      }\r\n    };\r\n\r\n    // Only load if we have a currentUser or after a short delay to allow auth to load\r\n    if (currentUser) {\r\n      loadSettings();\r\n    } else {\r\n      // Wait a bit for authentication to load\r\n      const timer = setTimeout(loadSettings, 500);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [currentUser]); // Re-run when currentUser changes\r\n\r\n  const handleProfileUpdate = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage({ type: '', text: '' });\r\n\r\n    try {\r\n      // Use admin settings API\r\n      const response = await adminSettingsAPI.updateProfile(profileData);\r\n      \r\n      if (response.success) {\r\n        // Update local storage with new user data\r\n        const { authHelpers } = await import('../../services/api');\r\n        const currentStoredUser = authHelpers.getUser();\r\n        const updatedUser = { ...currentStoredUser, ...response.data };\r\n        authHelpers.saveUser(updatedUser);\r\n\r\n        // Call parent callback if provided\r\n        if (onUpdateProfile) {\r\n          await onUpdateProfile(profileData);\r\n        }\r\n\r\n        setMessage({ type: 'success', text: 'Profile updated successfully!' });\r\n        \r\n        // Auto-hide success message after 3 seconds\r\n        setTimeout(() => {\r\n          setMessage({ type: '', text: '' });\r\n        }, 3000);\r\n      }\r\n    } catch (error) {\r\n      const errorMsg = error.message || 'Failed to update profile';\r\n      setMessage({ type: 'error', text: errorMsg });\r\n      \r\n      // If authentication error, redirect to login after 3 seconds\r\n      if (errorMsg.includes('session has expired') || errorMsg.includes('Authentication required') || errorMsg.includes('401')) {\r\n        setTimeout(() => {\r\n          localStorage.removeItem('token');\r\n          localStorage.removeItem('user');\r\n          window.location.href = '/login';\r\n        }, 3000);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handlePasswordChange = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage({ type: '', text: '' });\r\n\r\n    // Validation\r\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\r\n      setMessage({ type: 'error', text: 'New passwords do not match' });\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (passwordData.newPassword.length < 6) {\r\n      setMessage({ type: 'error', text: 'Password must be at least 6 characters' });\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Use admin settings API\r\n      const response = await adminSettingsAPI.changePassword(\r\n        passwordData.currentPassword, \r\n        passwordData.newPassword\r\n      );\r\n\r\n      if (response.success) {\r\n        // Call parent callback if provided\r\n        if (onChangePassword) {\r\n          await onChangePassword(passwordData.currentPassword, passwordData.newPassword);\r\n        }\r\n\r\n        setPasswordData({ currentPassword: '', newPassword: '', confirmPassword: '' });\r\n        setMessage({ type: 'success', text: 'Password changed successfully!' });\r\n        \r\n        // Auto-hide success message after 3 seconds\r\n        setTimeout(() => {\r\n          setMessage({ type: '', text: '' });\r\n        }, 3000);\r\n      }\r\n    } catch (error) {\r\n      const errorMsg = error.message || 'Failed to change password';\r\n      setMessage({ type: 'error', text: errorMsg });\r\n      \r\n      // If authentication error, redirect to login after 3 seconds\r\n      if (errorMsg.includes('session has expired') || errorMsg.includes('Authentication required') || errorMsg.includes('401')) {\r\n        setTimeout(() => {\r\n          localStorage.removeItem('token');\r\n          localStorage.removeItem('user');\r\n          window.location.href = '/login';\r\n        }, 3000);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSystemSettingsUpdate = async () => {\r\n    setLoading(true);\r\n    setMessage({ type: '', text: '' });\r\n\r\n    try {\r\n      const response = await adminSettingsAPI.updateSystemSettings(systemSettings);\r\n      \r\n      if (response.success) {\r\n        setMessage({ type: 'success', text: 'System settings updated successfully!' });\r\n        \r\n        // Auto-hide success message after 3 seconds\r\n        setTimeout(() => {\r\n          setMessage({ type: '', text: '' });\r\n        }, 3000);\r\n      }\r\n    } catch (error) {\r\n      const errorMsg = error.message || 'Failed to update system settings';\r\n      setMessage({ type: 'error', text: errorMsg });\r\n      \r\n      // If authentication error, redirect to login after 3 seconds\r\n      if (errorMsg.includes('session has expired') || errorMsg.includes('Authentication required') || errorMsg.includes('401')) {\r\n        setTimeout(() => {\r\n          localStorage.removeItem('token');\r\n          localStorage.removeItem('user');\r\n          window.location.href = '/login';\r\n        }, 3000);\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handlePlatformSettingsUpdate = async () => {\r\n    console.log('=== Save Platform Settings Button Clicked ===');\r\n    console.log('Current platform support state:', platformSupport);\r\n    console.log('Current user prop:', currentUser);\r\n    \r\n    setLoading(true);\r\n    setMessage({ type: '', text: '' });\r\n\r\n    try {\r\n      // Use currentUser prop first, fallback to localStorage\r\n      const { authHelpers } = await import('../../services/api');\r\n      const token = authHelpers.getToken();\r\n      const user = currentUser || authHelpers.getUser();\r\n\r\n      console.log('Auth check - Token exists:', !!token);\r\n      console.log('Auth check - Token value:', token ? `${token.substring(0, 20)}...` : 'null');\r\n      console.log('Auth check - User from prop:', currentUser);\r\n      console.log('Auth check - User from storage:', authHelpers.getUser());\r\n      console.log('Auth check - Final user:', user);\r\n\r\n      // Check if token exists\r\n      if (!token) {\r\n        const errorMsg = 'Authentication token not found. Please logout and login again.';\r\n        console.error(errorMsg);\r\n        setMessage({ type: 'error', text: errorMsg });\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Check if using demo token (won't work with backend)\r\n      if (token.includes('demo-signature')) {\r\n        const errorMsg = 'Demo mode detected. Backend authentication required to save settings. Please login with a real admin account.';\r\n        console.warn(errorMsg);\r\n        setMessage({ type: 'error', text: errorMsg });\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Check if user exists\r\n      if (!user) {\r\n        const errorMsg = 'User information not found. Please logout and login again.';\r\n        console.error(errorMsg);\r\n        setMessage({ type: 'error', text: errorMsg });\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Check admin role\r\n      const adminRoles = ['admin', 'hallAdmin', 'orgAdmin'];\r\n      if (!adminRoles.includes(user.role)) {\r\n        const errorMsg = `Access denied. Admin privileges required. Your role: ${user.role}`;\r\n        console.error(errorMsg);\r\n        setMessage({ \r\n          type: 'error', \r\n          text: errorMsg\r\n        });\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      console.log('Calling API to update settings...');\r\n      console.log('Request payload:', { support: platformSupport });\r\n      \r\n      const response = await platformSettingsAPI.update({ support: platformSupport });\r\n      console.log('API Response:', response);\r\n      \r\n      if (response.success) {\r\n        const successMsg = 'Platform settings updated successfully!';\r\n        console.log(successMsg);\r\n        setMessage({ type: 'success', text: successMsg });\r\n        \r\n        // Auto-hide success message after 3 seconds\r\n        setTimeout(() => {\r\n          setMessage({ type: '', text: '' });\r\n        }, 3000);\r\n      }\r\n    } catch (error) {\r\n      console.error('Platform settings update error:', error);\r\n      \r\n      // Handle specific error cases\r\n      let errorMsg = '';\r\n      let actionRequired = '';\r\n      \r\n      if (error.message.includes('401') || error.message.includes('Not authorized') || error.message.includes('invalid token') || error.message.includes('Token expired')) {\r\n        errorMsg = 'Your session has expired or the authentication token is invalid.';\r\n        actionRequired = 'Please logout and login again with a real admin account.';\r\n        \r\n        // Auto-clear token and redirect after 3 seconds\r\n        setTimeout(() => {\r\n          localStorage.removeItem('token');\r\n          localStorage.removeItem('user');\r\n          window.location.href = '/login';\r\n        }, 3000);\r\n      } else if (error.message.includes('403') || error.message.includes('Access denied')) {\r\n        errorMsg = 'Access denied. You need admin privileges to update platform settings.';\r\n        actionRequired = 'Please contact a system administrator.';\r\n      } else if (error.message.includes('Network') || error.message.includes('fetch')) {\r\n        errorMsg = 'Network error. Unable to connect to the server.';\r\n        actionRequired = 'Please check your internet connection and try again.';\r\n      } else {\r\n        errorMsg = error.message || 'Failed to update platform settings';\r\n        actionRequired = 'Please try again or contact support.';\r\n      }\r\n      \r\n      console.error('Error message:', errorMsg);\r\n      console.error('Action required:', actionRequired);\r\n      \r\n      setMessage({ \r\n        type: 'error', \r\n        text: `${errorMsg} ${actionRequired}` \r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n      console.log('=== Save Platform Settings Complete ===');\r\n    }\r\n  };\r\n\r\n  const tabs = [\r\n    { id: 'profile', name: 'Profile Settings' },\r\n    { id: 'security', name: 'Security' },\r\n    { id: 'system', name: 'System Settings' },\r\n    { id: 'platform', name: 'Platform Support' },\r\n    { id: 'notifications', name: 'Notifications' }\r\n  ];\r\n\r\n  const renderMessage = () => {\r\n    if (!message.text) return null;\r\n\r\n    return (\r\n      <div className={`mb-6 p-4 rounded-lg border ${\r\n        message.type === 'success' \r\n          ? 'bg-green-50 border-green-200 text-green-700' \r\n          : 'bg-red-50 border-red-200 text-red-700'\r\n      }`}>\r\n        <div className=\"flex items-center\">\r\n          {message.type === 'success' ? (\r\n            <span className=\"mr-2\">✓</span>\r\n          ) : (\r\n            <span className=\"mr-2\">✕</span>\r\n          )}\r\n          <span>{message.text}</span>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderProfileSettings = () => (\r\n    <div className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} border rounded-lg p-6`}>\r\n      <h3 className={`text-lg font-semibold ${darkMode ? 'text-white' : 'text-gray-900'} mb-4 flex items-center`}>\r\n        \r\n        Profile Information\r\n      </h3>\r\n\r\n      <form onSubmit={handleProfileUpdate} className=\"space-y-4\">\r\n        <div>\r\n          <label className={`block text-sm font-medium mb-1 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n            Full Name\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={profileData.name}\r\n            onChange={(e) => setProfileData({...profileData, name: e.target.value})}\r\n            className={`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${\r\n              darkMode \r\n                ? 'border-gray-600 bg-gray-700 text-white' \r\n                : 'border-gray-300 bg-white text-gray-900'\r\n            }`}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className={`block text-sm font-medium mb-1 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n            Email Address\r\n          </label>\r\n          <div className=\"relative\">\r\n            \r\n            <input\r\n              type=\"email\"\r\n              value={profileData.email}\r\n              onChange={(e) => setProfileData({...profileData, email: e.target.value})}\r\n              className={`w-full pl-10 pr-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 ${\r\n                darkMode \r\n                  ? 'border-gray-600 bg-gray-700 text-white' \r\n                  : 'border-gray-300 bg-white text-gray-900'\r\n              }`}\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label className={`block text-sm font-medium mb-1 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n            Phone Number\r\n          </label>\r\n          <input\r\n            type=\"tel\"\r\n            value={profileData.phone}\r\n            onChange={(e) => setProfileData({...profileData, phone: e.target.value})}\r\n            className={`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${\r\n              darkMode \r\n                ? 'border-gray-600 bg-gray-700 text-white' \r\n                : 'border-gray-300 bg-white text-gray-900'\r\n            }`}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className={`block text-sm font-medium mb-1 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n            Role\r\n          </label>\r\n          <div className=\"flex items-center\">\r\n            \r\n            <span className=\"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium\">\r\n              Administrator\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex justify-end pt-4\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50\"\r\n          >\r\n            \r\n            {loading ? 'Updating...' : 'Update Profile'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  const renderSecuritySettings = () => (\r\n    <div className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} border rounded-lg p-6`}>\r\n      <h3 className={`text-lg font-semibold ${darkMode ? 'text-white' : 'text-gray-900'} mb-4 flex items-center`}>\r\n        \r\n        Change Password\r\n      </h3>\r\n\r\n      <form onSubmit={handlePasswordChange} className=\"space-y-4\">\r\n        <div>\r\n          <label className={`block text-sm font-medium mb-1 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n            Current Password\r\n          </label>\r\n          <div className=\"relative\">\r\n            \r\n            <input\r\n              type={showPasswords.current ? 'text' : 'password'}\r\n              value={passwordData.currentPassword}\r\n              onChange={(e) => setPasswordData({...passwordData, currentPassword: e.target.value})}\r\n              className={`w-full pl-10 pr-12 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 ${\r\n                darkMode \r\n                  ? 'border-gray-600 bg-gray-700 text-white' \r\n                  : 'border-gray-300 bg-white text-gray-900'\r\n              }`}\r\n              required\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowPasswords({...showPasswords, current: !showPasswords.current})}\r\n              className={`absolute right-3 top-1/2 transform -translate-y-1/2 ${darkMode ? 'text-gray-500' : 'text-gray-400'}`}\r\n            >\r\n              {showPasswords.current ? 'Hide' : 'Show'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label className={`block text-sm font-medium mb-1 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n            New Password\r\n          </label>\r\n          <div className=\"relative\">\r\n            \r\n            <input\r\n              type={showPasswords.new ? 'text' : 'password'}\r\n              value={passwordData.newPassword}\r\n              onChange={(e) => setPasswordData({...passwordData, newPassword: e.target.value})}\r\n              className={`w-full pl-10 pr-12 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 ${\r\n                darkMode \r\n                  ? 'border-gray-600 bg-gray-700 text-white' \r\n                  : 'border-gray-300 bg-white text-gray-900'\r\n              }`}\r\n              minLength=\"6\"\r\n              required\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowPasswords({...showPasswords, new: !showPasswords.new})}\r\n              className={`absolute right-3 top-1/2 transform -translate-y-1/2 ${darkMode ? 'text-gray-500' : 'text-gray-400'}`}\r\n            >\r\n              {showPasswords.new ? 'Hide' : 'Show'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label className={`block text-sm font-medium mb-1 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n            Confirm New Password\r\n          </label>\r\n          <div className=\"relative\">\r\n            \r\n            <input\r\n              type={showPasswords.confirm ? 'text' : 'password'}\r\n              value={passwordData.confirmPassword}\r\n              onChange={(e) => setPasswordData({...passwordData, confirmPassword: e.target.value})}\r\n              className={`w-full pl-10 pr-12 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 ${\r\n                darkMode \r\n                  ? 'border-gray-600 bg-gray-700 text-white' \r\n                  : 'border-gray-300 bg-white text-gray-900'\r\n              }`}\r\n              minLength=\"6\"\r\n              required\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowPasswords({...showPasswords, confirm: !showPasswords.confirm})}\r\n              className={`absolute right-3 top-1/2 transform -translate-y-1/2 ${darkMode ? 'text-gray-500' : 'text-gray-400'}`}\r\n            >\r\n              {showPasswords.confirm ? 'Hide' : 'Show'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex justify-end pt-4\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50\"\r\n          >\r\n            \r\n            {loading ? 'Changing...' : 'Change Password'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  const renderSystemSettings = () => (\r\n    <div className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} border rounded-lg p-6`}>\r\n      <h3 className={`text-lg font-semibold ${darkMode ? 'text-white' : 'text-gray-900'} mb-4 flex items-center`}>\r\n        \r\n        System Configuration\r\n      </h3>\r\n\r\n      <div className=\"space-y-6\">\r\n        {/* Platform Settings */}\r\n        <div>\r\n          <h4 className={`font-medium ${darkMode ? 'text-white' : 'text-gray-900'} mb-3`}>Platform Settings</h4>\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <label className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                  Maintenance Mode\r\n                </label>\r\n                <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                  Temporarily disable the platform for maintenance\r\n                </p>\r\n              </div>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={systemSettings.maintenanceMode}\r\n                onChange={(e) => setSystemSettings({...systemSettings, maintenanceMode: e.target.checked})}\r\n                className=\"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <label className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                  User Registration\r\n                </label>\r\n                <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                  Allow new users to register accounts\r\n                </p>\r\n              </div>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={systemSettings.registrationEnabled}\r\n                onChange={(e) => setSystemSettings({...systemSettings, registrationEnabled: e.target.checked})}\r\n                className=\"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <label className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                  Auto-approve Posts\r\n                </label>\r\n                <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                  Automatically approve new posts without moderation\r\n                </p>\r\n              </div>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={systemSettings.autoApproval}\r\n                onChange={(e) => setSystemSettings({...systemSettings, autoApproval: e.target.checked})}\r\n                className=\"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* File Upload Settings */}\r\n        <div>\r\n          <h4 className={`font-medium ${darkMode ? 'text-white' : 'text-gray-900'} mb-3`}>File Upload Settings</h4>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className={`block text-sm font-medium mb-1 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                Max File Size (MB)\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                value={systemSettings.maxFileSize}\r\n                onChange={(e) => setSystemSettings({...systemSettings, maxFileSize: e.target.value})}\r\n                className={`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${\r\n                  darkMode \r\n                    ? 'border-gray-600 bg-gray-700 text-white' \r\n                    : 'border-gray-300 bg-white text-gray-900'\r\n                }`}\r\n                min=\"1\"\r\n                max=\"50\"\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className={`block text-sm font-medium mb-1 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                Session Timeout (hours)\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                value={systemSettings.sessionTimeout}\r\n                onChange={(e) => setSystemSettings({...systemSettings, sessionTimeout: e.target.value})}\r\n                className={`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${\r\n                  darkMode \r\n                    ? 'border-gray-600 bg-gray-700 text-white' \r\n                    : 'border-gray-300 bg-white text-gray-900'\r\n                }`}\r\n                min=\"1\"\r\n                max=\"168\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex justify-end pt-4\">\r\n          <button\r\n            onClick={handleSystemSettingsUpdate}\r\n            disabled={loading}\r\n            className=\"flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50\"\r\n          >\r\n            \r\n            {loading ? 'Saving...' : 'Save Settings'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderNotificationSettings = () => (\r\n    <div className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} border rounded-lg p-6`}>\r\n      <h3 className={`text-lg font-semibold ${darkMode ? 'text-white' : 'text-gray-900'} mb-4 flex items-center`}>\r\n        \r\n        Notification Preferences\r\n      </h3>\r\n\r\n      <div className=\"space-y-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <label className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n              Email Notifications\r\n            </label>\r\n            <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n              Receive email alerts for important events\r\n            </p>\r\n          </div>\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={systemSettings.emailNotifications}\r\n            onChange={(e) => setSystemSettings({...systemSettings, emailNotifications: e.target.checked})}\r\n            className=\"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <label className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n              New User Registrations\r\n            </label>\r\n            <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n              Get notified when new users register\r\n            </p>\r\n          </div>\r\n          <input\r\n            type=\"checkbox\"\r\n            defaultChecked={true}\r\n            className=\"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <label className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n              New Posts\r\n            </label>\r\n            <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n              Get notified when new posts are submitted\r\n            </p>\r\n          </div>\r\n          <input\r\n            type=\"checkbox\"\r\n            defaultChecked={true}\r\n            className=\"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <label className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n              Reports & Issues\r\n            </label>\r\n            <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n              Get notified about user reports and system issues\r\n            </p>\r\n          </div>\r\n          <input\r\n            type=\"checkbox\"\r\n            defaultChecked={true}\r\n            className=\"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderPlatformSupport = () => {\r\n    // Check if user is authenticated and has admin role\r\n    const adminRoles = ['admin', 'hallAdmin', 'orgAdmin'];\r\n    const isAdmin = currentUser && adminRoles.includes(currentUser.role);\r\n\r\n    return (\r\n      <div className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} border rounded-lg p-6`}>\r\n        <h3 className={`text-lg font-semibold ${darkMode ? 'text-white' : 'text-gray-900'} mb-4 flex items-center`}>\r\n          <Phone className=\"mr-2\" size={20} />\r\n          Platform Support Configuration\r\n        </h3>\r\n\r\n        {/* Authentication Warning */}\r\n        {!isAdmin && (\r\n          <div className=\"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n            <div className=\"flex items-start\">\r\n              <Shield className=\"h-5 w-5 text-yellow-600 mt-0.5 mr-3\" />\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-yellow-800 mb-1\">\r\n                  Admin Access Required\r\n                </h4>\r\n                <p className=\"text-sm text-yellow-700\">\r\n                  You need to be logged in as an admin (admin, hallAdmin, or orgAdmin) to view and update platform settings.\r\n                  {currentUser ? ` Your current role: ${currentUser.role}` : ' Please login first.'}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Token Error Warning - Show when there's an auth error */}\r\n        {message.type === 'error' && message.text.includes('session has expired') && (\r\n          <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\r\n            <div className=\"flex items-start justify-between\">\r\n              <div className=\"flex items-start flex-1\">\r\n                <Shield className=\"h-5 w-5 text-red-600 mt-0.5 mr-3\" />\r\n                <div>\r\n                  <h4 className=\"text-sm font-medium text-red-800 mb-1\">\r\n                    Authentication Required\r\n                  </h4>\r\n                  <p className=\"text-sm text-red-700 mb-3\">\r\n                    Your session has expired. Please logout and login again to continue.\r\n                  </p>\r\n                  <button\r\n                    onClick={() => {\r\n                      // Clear auth\r\n                      localStorage.removeItem('token');\r\n                      localStorage.removeItem('user');\r\n                      // Redirect to login\r\n                      window.location.href = '/login';\r\n                    }}\r\n                    className=\"px-4 py-2 bg-red-600 text-white text-sm rounded-md hover:bg-red-700\"\r\n                  >\r\n                    Logout & Go to Login\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"space-y-6\">\r\n          {/* Support Banner Settings */}\r\n          <div>\r\n            <h4 className={`font-medium ${darkMode ? 'text-white' : 'text-gray-900'} mb-3`}>Support Banner</h4>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                  <label className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                    Enable Support Banner\r\n                  </label>\r\n                  <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                    Display support information banner at the top of the platform\r\n                  </p>\r\n                </div>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={platformSupport.enabled}\r\n                  onChange={(e) => setPlatformSupport({...platformSupport, enabled: e.target.checked})}\r\n                  className=\"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded\"\r\n                  disabled={!isAdmin}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n              <label className={`block text-sm font-medium mb-1 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                Support Phone Number\r\n              </label>\r\n              <div className=\"relative\">\r\n                <Phone className={`absolute left-3 top-1/2 transform -translate-y-1/2 ${darkMode ? 'text-gray-500' : 'text-gray-400'}`} size={18} />\r\n                <input\r\n                  type=\"tel\"\r\n                  value={platformSupport.phoneNumber}\r\n                  onChange={(e) => setPlatformSupport({...platformSupport, phoneNumber: e.target.value})}\r\n                  placeholder=\"+1-800-555-0123\"\r\n                  className={`w-full pl-10 pr-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 ${\r\n                    darkMode \r\n                      ? 'border-gray-600 bg-gray-700 text-white' \r\n                      : 'border-gray-300 bg-white text-gray-900'\r\n                  }`}\r\n                  disabled={!isAdmin}\r\n                />\r\n              </div>\r\n              <p className={`text-xs mt-1 ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                This number will be displayed in the support banner\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <label className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                  24/7 Service\r\n                </label>\r\n                <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                  Indicate that support is available 24 hours a day, 7 days a week\r\n                </p>\r\n              </div>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={platformSupport.is24x7}\r\n                onChange={(e) => setPlatformSupport({...platformSupport, is24x7: e.target.checked})}\r\n                className=\"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded\"\r\n                disabled={!isAdmin}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <label className={`block text-sm font-medium mb-1 ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                Support Email\r\n              </label>\r\n              <div className=\"relative\">\r\n                <Mail className={`absolute left-3 top-1/2 transform -translate-y-1/2 ${darkMode ? 'text-gray-500' : 'text-gray-400'}`} size={18} />\r\n                <input\r\n                  type=\"email\"\r\n                  value={platformSupport.supportEmail}\r\n                  onChange={(e) => setPlatformSupport({...platformSupport, supportEmail: e.target.value})}\r\n                  placeholder=\"support@platform.com\"\r\n                  className={`w-full pl-10 pr-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 ${\r\n                    darkMode \r\n                      ? 'border-gray-600 bg-gray-700 text-white' \r\n                      : 'border-gray-300 bg-white text-gray-900'\r\n                  }`}\r\n                  disabled={!isAdmin}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Flutter App Settings */}\r\n        <div>\r\n          <h4 className={`font-medium ${darkMode ? 'text-white' : 'text-gray-900'} mb-3`}>Mobile App (Flutter)</h4>\r\n          <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <label className={`text-sm font-medium ${darkMode ? 'text-gray-300' : 'text-gray-700'}`}>\r\n                  Enable Flutter App Support\r\n                </label>\r\n                <p className={`text-xs ${darkMode ? 'text-gray-400' : 'text-gray-500'}`}>\r\n                  Allow mobile app connections and API access for Flutter applications\r\n                </p>\r\n              </div>\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={platformSupport.flutterAppEnabled}\r\n                onChange={(e) => setPlatformSupport({...platformSupport, flutterAppEnabled: e.target.checked})}\r\n                className=\"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded\"\r\n                disabled={!isAdmin}\r\n              />\r\n            </div>\r\n\r\n            {platformSupport.flutterAppEnabled && (\r\n              <div className={`p-4 rounded-lg ${darkMode ? 'bg-blue-900/20 border-blue-700' : 'bg-blue-50 border-blue-200'} border`}>\r\n                <p className={`text-sm ${darkMode ? 'text-blue-300' : 'text-blue-700'}`}>\r\n                  <strong>Flutter App Status:</strong> Enabled\r\n                </p>\r\n                <p className={`text-xs mt-1 ${darkMode ? 'text-blue-400' : 'text-blue-600'}`}>\r\n                  Mobile applications can now connect to the platform API. Make sure to configure proper authentication and rate limiting.\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Preview */}\r\n        {platformSupport.enabled && (\r\n          <div>\r\n            <h4 className={`font-medium ${darkMode ? 'text-white' : 'text-gray-900'} mb-3`}>Banner Preview</h4>\r\n            <div className=\"bg-blue-600 text-white p-3 rounded-lg flex items-center justify-center space-x-6\">\r\n              <div className=\"flex items-center\">\r\n                <Phone size={18} className=\"mr-2\" />\r\n                <span className=\"text-sm font-medium\">\r\n                  Platform Support: {platformSupport.phoneNumber}\r\n                </span>\r\n              </div>\r\n              {platformSupport.is24x7 && (\r\n                <div className=\"flex items-center\">\r\n                  <span className=\"text-sm font-medium\">⏰ 24/7 Service</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"flex justify-end items-center gap-3 pt-4\">\r\n          {/* Token Status Indicator */}\r\n          <div className=\"flex items-center text-sm\">\r\n            {(() => {\r\n              const token = localStorage.getItem('token');\r\n              if (!token) {\r\n                return (\r\n                  <span className=\"flex items-center text-red-600\">\r\n                    <span className=\"w-2 h-2 bg-red-600 rounded-full mr-2\"></span>\r\n                    No Token\r\n                  </span>\r\n                );\r\n              }\r\n              return (\r\n                <span className=\"flex items-center text-green-600\">\r\n                  <span className=\"w-2 h-2 bg-green-600 rounded-full mr-2\"></span>\r\n                  Authenticated\r\n                </span>\r\n              );\r\n            })()}\r\n          </div>\r\n\r\n          <button\r\n            onClick={handlePlatformSettingsUpdate}\r\n            disabled={loading || !isAdmin}\r\n            className=\"flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            title={!isAdmin ? 'Admin access required' : ''}\r\n          >\r\n            <Save className=\"mr-2\" size={18} />\r\n            {loading ? 'Saving...' : 'Save Platform Settings'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n  };\r\n\r\n  return (\r\n    <div className={`min-h-screen ${darkMode ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Page Header with Back Button */}\r\n        <PageHeader\r\n          title=\"Admin Settings\"\r\n          subtitle=\"Manage your account and system configuration\"\r\n          onBack={onBack}\r\n          darkMode={darkMode}\r\n          showBackButton={!!onBack}\r\n        />\r\n\r\n        {/* Message Display */}\r\n        {renderMessage()}\r\n\r\n        {/* Tabs */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"border-b border-gray-200\">\r\n            <nav className=\"-mb-px flex space-x-8\">\r\n              {tabs.map((tab) => {\r\n                \r\n                return (\r\n                  <button\r\n                    key={tab.id}\r\n                    onClick={() => setActiveTab(tab.id)}\r\n                    className={`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${\r\n                      activeTab === tab.id\r\n                        ? 'border-red-500 text-red-600'\r\n                        : `border-transparent ${darkMode ? 'text-gray-400 hover:text-gray-200' : 'text-gray-500 hover:text-gray-700'} hover:border-gray-300`\r\n                    }`}\r\n                  >\r\n                    \r\n                    {tab.name}\r\n                  </button>\r\n                );\r\n              })}\r\n            </nav>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Tab Content */}\r\n        <div>\r\n          {activeTab === 'profile' && renderProfileSettings()}\r\n          {activeTab === 'security' && renderSecuritySettings()}\r\n          {activeTab === 'system' && renderSystemSettings()}\r\n          {activeTab === 'platform' && renderPlatformSupport()}\r\n          {activeTab === 'notifications' && renderNotificationSettings()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminSettings;\r\n"],"file":"assets/AdminSettings-BlvO3i3X.js"}