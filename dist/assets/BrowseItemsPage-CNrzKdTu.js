import{r,u as U,j as t,L as V,C as M,N as O}from"./index-Iy8zicZ9.js";import{M as P}from"./ModernItemCard-DQ6JgwOD.js";import{f as _,U as q}from"./UniversalSearchBar-C9m4LD1H.js";import"./circle-check-big-CFTT60CK.js";import"./eye-BVImR0vu.js";import"./calendar-CrPmhWw_.js";import"./map-pin-Bs7t3nXu.js";import"./tag-r4h69r7g.js";import"./mail-DoQa2HGT.js";import"./trash-2-B1NMGobO.js";const rt=({items:h=[],loading:N,isLoggedIn:v,userRole:C,onClaimItem:F,onDeleteItem:I,onContactOwner:S,onViewDetails:B,searchTerm:$="",setSearchTerm:f,selectedCategory:n="all",setSelectedCategory:p,selectedStatus:c="all",setSelectedStatus:w,setCurrentPage:z,handleClaimItem:G,darkMode:l,onRefetch:x})=>{const[u,A]=r.useState("all"),[b,H]=r.useState("grid"),[j,J]=r.useState("date"),[y,K]=r.useState("desc"),[g,L]=r.useState($||""),{t:d,i18n:T}=U();r.useMemo(()=>[...new Set(h.map(e=>e.location))].filter(Boolean),[h]),r.useEffect(()=>{x&&x({search:"",category:n,status:c})},[n,c]);const a=r.useMemo(()=>_(h,g).filter(s=>{const m=n==="all"||s.category===n,o=c==="all"||s.status===c,i=u==="all"||s.location&&s.location===u;return m&&o&&i}).sort((s,m)=>{let o,i;switch(j){case"title":o=s.title.toLowerCase(),i=m.title.toLowerCase();break;case"location":o=s.location.toLowerCase(),i=m.location.toLowerCase();break;case"category":o=s.category.toLowerCase(),i=m.category.toLowerCase();break;case"date":default:o=new Date(s.date||s.createdAt),i=new Date(m.date||m.createdAt);break}return y==="asc"?o>i?1:-1:o<i?1:-1}),[h,g,n,c,u,j,y]),D=()=>{L(""),f&&f(""),p&&p("all"),w&&w("all"),A("all"),x&&setTimeout(()=>x({search:"",category:"all",status:"all"}),100)},E=r.useMemo(()=>({totalItems:a.length,totalLost:a.filter(e=>e.status==="Lost").length,totalFound:a.filter(e=>e.status==="Found").length,reunited:a.filter(e=>e.claimed).length,activeUsers:Math.floor(a.length*.7)}),[a]);return N?t.jsx(V,{message:"Loading items...",darkMode:l}):t.jsx("div",{className:`min-h-screen ${l?"bg-gray-900":"bg-gray-50"}`,children:t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:`text-3xl font-bold ${l?"text-white":"text-gray-900"} mb-2`,children:d("pages.browseItems")}),t.jsx("p",{className:`${l?"text-gray-300":"text-gray-600"}`,children:d("pages.browseSubtitle")})]}),t.jsx("div",{className:"mb-8",children:t.jsx(q,{value:g,onChange:L,placeholder:d("search.placeholder"),className:"max-w-2xl mx-auto",darkMode:l})}),t.jsx(M,{stats:E,hasFilters:g||n!=="all"||c!=="all"||u!=="all",darkMode:l}),a.length===0?t.jsx(O,{hasFilters:g||n!=="all"||c!=="all"||u!=="all",searchTerm:g,onClearFilters:D,darkMode:l}):t.jsx("div",{className:b==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:a.map(e=>t.jsx(P,{item:e,isLoggedIn:v,userRole:C,onViewDetails:B,onClaim:F,onDelete:I,onContact:S,viewMode:b,darkMode:l},`${e._id||e.id}-${T.language}`))}),a.length>0&&a.length>=20&&t.jsx("div",{className:"text-center mt-8",children:t.jsx("button",{className:"px-6 py-3 bg-white border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:d("actions.loadMore")})})]})})};export{rt as default};
//# sourceMappingURL=BrowseItemsPage-CNrzKdTu.js.map
