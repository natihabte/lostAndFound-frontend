import{u as B,r as x,f as I,j as e,M as O,g as G}from"./index-Iy8zicZ9.js";const J=({currentUser:r,darkMode:t,onUpdateProfile:v,onChangePassword:$,setDarkMode:P})=>{const{t:a}=B(),[g,S]=x.useState("profile"),[o,d]=x.useState(!1),[y,i]=x.useState({type:"",text:""}),[h,w]=x.useState(!1),[n,b]=x.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||""}),[u,C]=x.useState({name:(r==null?void 0:r.name)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||""});I.useEffect(()=>{const s=n.name!==u.name||n.email!==u.email||n.phone!==u.phone;w(s)},[n,u]);const[c,f]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[l,N]=x.useState({current:!1,new:!1,confirm:!1}),[m,p]=x.useState({emailNotifications:!0,itemMatches:!0,systemUpdates:!1,marketingEmails:!1}),D=async s=>{s.preventDefault(),d(!0),i({type:"",text:""});try{v&&(await v(n),C(n),w(!1)),i({type:"success",text:a("settings.messages.profileUpdated")})}catch(j){console.error("Profile update error:",j),i({type:"error",text:a("settings.messages.profileUpdateFailed",{error:j.message})})}finally{d(!1)}},E=async s=>{if(s.preventDefault(),d(!0),i({type:"",text:""}),c.newPassword!==c.confirmPassword){i({type:"error",text:a("settings.messages.passwordMismatch")}),d(!1);return}if(c.newPassword.length<6){i({type:"error",text:a("settings.messages.passwordTooShort")}),d(!1);return}try{$&&await $(c.currentPassword,c.newPassword),f({currentPassword:"",newPassword:"",confirmPassword:""}),i({type:"success",text:a("settings.messages.passwordChanged")})}catch(j){i({type:"error",text:j.message||a("settings.messages.passwordChangeFailed")})}finally{d(!1)}},T=async()=>{d(!0),i({type:"",text:""});try{await new Promise(s=>setTimeout(s,1e3)),i({type:"success",text:a("settings.messages.notificationsUpdated")})}catch{i({type:"error",text:a("settings.messages.notificationsUpdateFailed")})}finally{d(!1)}},q=[{id:"profile",name:a("settings.tabs.profile")},{id:"security",name:a("settings.tabs.security")},{id:"notifications",name:a("settings.tabs.notifications")},{id:"preferences",name:a("settings.tabs.preferences")}],R=()=>y.text?e.jsx("div",{className:`mb-6 p-4 rounded-lg border ${y.type==="success"?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-700"}`,children:e.jsxs("div",{className:"flex items-center",children:[y.type==="success"?e.jsx("span",{className:"mr-2",children:"✓"}):e.jsx("span",{className:"mr-2",children:"✕"}),e.jsx("span",{children:y.text})]})}):null,A=()=>e.jsxs("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6`,children:[e.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"} mb-4 flex items-center`,children:a("settings.profile.title")}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:a("settings.profile.fullName")}),e.jsx("input",{type:"text",value:n.name,onChange:s=>b({...n,name:s.target.value}),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:a("settings.profile.email")}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"email",value:n.email,onChange:s=>b({...n,email:s.target.value}),className:`w-full pl-10 pr-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,required:!0})})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:a("settings.profile.phone")}),e.jsx("div",{className:"relative",children:e.jsx("input",{type:"tel",value:n.phone,onChange:s=>b({...n,phone:s.target.value}),className:`w-full pl-10 pr-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`})})]}),h&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-sm text-yellow-700",children:a("settings.profile.unsavedChanges")})})}),e.jsxs("div",{className:"flex justify-between items-center pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{b(u),i({type:"",text:""}),w(!1)},disabled:!h||o,className:`px-4 py-2 border rounded-md transition-colors ${h&&!o?"border-gray-300 text-gray-700 hover:bg-gray-50":"border-gray-200 text-gray-400 cursor-not-allowed"}`,children:a("settings.profile.resetChanges")}),e.jsx("button",{type:"submit",disabled:!h||o,className:`flex items-center px-6 py-2 rounded-md font-medium transition-all ${h&&!o?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:a(o?"settings.profile.updating":"settings.profile.updateButton")})]})]})]}),H=()=>e.jsxs("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6`,children:[e.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"} mb-4 flex items-center`,children:a("settings.security.title")}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:a("settings.security.currentPassword")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l.current?"text":"password",value:c.currentPassword,onChange:s=>f({...c,currentPassword:s.target.value}),className:`w-full pl-10 pr-12 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,required:!0}),e.jsx("button",{type:"button",onClick:()=>N({...l,current:!l.current}),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${t?"text-gray-500":"text-gray-400"}`,children:l.current?"Hide":"Show"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:a("settings.security.newPassword")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l.new?"text":"password",value:c.newPassword,onChange:s=>f({...c,newPassword:s.target.value}),className:`w-full pl-10 pr-12 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,minLength:"6",required:!0}),e.jsx("button",{type:"button",onClick:()=>N({...l,new:!l.new}),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${t?"text-gray-500":"text-gray-400"}`,children:l.new?"Hide":"Show"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${t?"text-gray-300":"text-gray-700"}`,children:a("settings.security.confirmPassword")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l.confirm?"text":"password",value:c.confirmPassword,onChange:s=>f({...c,confirmPassword:s.target.value}),className:`w-full pl-10 pr-12 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,minLength:"6",required:!0}),e.jsx("button",{type:"button",onClick:()=>N({...l,confirm:!l.confirm}),className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${t?"text-gray-500":"text-gray-400"}`,children:l.confirm?"Hide":"Show"})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{type:"submit",disabled:o,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:a(o?"settings.security.changing":"settings.security.changeButton")})})]})]}),L=()=>e.jsxs("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6`,children:[e.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"} mb-4 flex items-center`,children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Email Notifications"}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Receive email alerts for important updates"})]}),e.jsx("input",{type:"checkbox",checked:m.emailNotifications,onChange:s=>p({...m,emailNotifications:s.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Item Match Alerts"}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Get notified when items matching your posts are found"})]}),e.jsx("input",{type:"checkbox",checked:m.itemMatches,onChange:s=>p({...m,itemMatches:s.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"System Updates"}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Receive notifications about system maintenance and updates"})]}),e.jsx("input",{type:"checkbox",checked:m.systemUpdates,onChange:s=>p({...m,systemUpdates:s.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Marketing Emails"}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Receive promotional emails and newsletters"})]}),e.jsx("input",{type:"checkbox",checked:m.marketingEmails,onChange:s=>p({...m,marketingEmails:s.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{onClick:T,disabled:o,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:o?"Saving...":"Save Preferences"})})]})]}),F=()=>e.jsxs("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6`,children:[e.jsx("h3",{className:`text-lg font-semibold ${t?"text-white":"text-gray-900"} mb-4 flex items-center`,children:"App Preferences"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium ${t?"text-white":"text-gray-900"} mb-3`,children:"Theme"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"mr-3",children:t?e.jsx(O,{className:"h-5 w-5"}):e.jsx(G,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:t?"Dark Mode":"Light Mode"}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Switch between light and dark themes"})]})]}),e.jsx("button",{onClick:()=>P(!t),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t?"bg-blue-600":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t?"translate-x-6":"translate-x-1"}`})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium ${t?"text-white":"text-gray-900"} mb-3`,children:"Privacy"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Show Profile to Others"}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Allow other users to see your profile information"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-700"}`,children:"Show Contact Information"}),e.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:"Display your contact info on your posts"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]})]})]})]})]});return e.jsx("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-gray-50"}`,children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-900"} mb-2`,children:a("settings.title")}),e.jsx("p",{className:`${t?"text-gray-300":"text-gray-600"}`,children:a("settings.subtitle")})]}),R(),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:q.map(s=>e.jsx("button",{onClick:()=>S(s.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${g===s.id?"border-blue-500 text-blue-600":`border-transparent ${t?"text-gray-400 hover:text-gray-200":"text-gray-500 hover:text-gray-700"} hover:border-gray-300`}`,children:s.name},s.id))})})}),e.jsxs("div",{children:[g==="profile"&&A(),g==="security"&&H(),g==="notifications"&&L(),g==="preferences"&&F()]})]})})};export{J as default};
//# sourceMappingURL=UserSettings-8uwzGP9v.js.map
