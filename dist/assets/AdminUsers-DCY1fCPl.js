const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Iy8zicZ9.js","assets/index-DORVt_Xd.css"])))=>i.map(i=>d[i]);
import{c as A,u as z,a as J,b as H,r as i,_ as b,j as e,R as G}from"./index-Iy8zicZ9.js";import{A as K}from"./arrow-left-CxkRDTJx.js";import{S as Q}from"./search-Bjxn-y9V.js";import{S as W}from"./square-pen-DgNwGK6A.js";import{T as X}from"./trash-2-B1NMGobO.js";import{S as C}from"./shield-C2wlssdo.js";import{C as Y}from"./circle-check-big-CFTT60CK.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ee=A("ban",Z);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],se=A("user-plus",te),oe=()=>{const{t:a}=z(),D=J(),{darkMode:s}=H(),[m,U]=i.useState([]),[R,_]=i.useState(!0),[f,P]=i.useState(""),[j,E]=i.useState("all"),[v,L]=i.useState("all"),[o,h]=i.useState([]),[I,w]=i.useState(!1),[g,S]=i.useState(null),[T,N]=i.useState(!1),[u,$]=i.useState(null);i.useEffect(()=>{y()},[]);const y=async()=>{_(!0);try{const{usersAPI:t}=await b(async()=>{const{usersAPI:n}=await import("./index-Iy8zicZ9.js").then(l=>l.i);return{usersAPI:n}},__vite__mapDeps([0,1])),r=await t.getAllUsers();U(r.data||[])}catch(t){console.error("Error fetching users:",t),U([{_id:"1",name:"John Doe",email:"john@example.com",role:"user",status:"active",createdAt:new Date},{_id:"2",name:"Jane Smith",email:"jane@example.com",role:"orgAdmin",status:"active",createdAt:new Date},{_id:"3",name:"Admin User",email:"admin@example.com",role:"hallAdmin",status:"active",createdAt:new Date}])}finally{_(!1)}},M=async(t,r)=>{try{const{usersAPI:n}=await b(async()=>{const{usersAPI:l}=await import("./index-Iy8zicZ9.js").then(c=>c.i);return{usersAPI:l}},__vite__mapDeps([0,1]));await n.updateUser(t,r),y(),alert("User updated successfully!")}catch(n){alert(n.message||"Failed to update user")}},F=async t=>{if(window.confirm("Are you sure you want to delete this user?"))try{const{usersAPI:r}=await b(async()=>{const{usersAPI:n}=await import("./index-Iy8zicZ9.js").then(l=>l.i);return{usersAPI:n}},__vite__mapDeps([0,1]));await r.deleteUser(t),y(),alert("User deleted successfully!")}catch(r){alert(r.message||"Failed to delete user")}},O=async t=>{try{const{usersAPI:r}=await b(async()=>{const{usersAPI:n}=await import("./index-Iy8zicZ9.js").then(l=>l.i);return{usersAPI:n}},__vite__mapDeps([0,1]));await r.createUser(t),y(),w(!1),alert("User created successfully!")}catch(r){alert(r.message||"Failed to create user")}},x=m.filter(t=>{var c,p;const r=((c=t.name)==null?void 0:c.toLowerCase().includes(f.toLowerCase()))||((p=t.email)==null?void 0:p.toLowerCase().includes(f.toLowerCase())),n=j==="all"||t.role===j,l=v==="all"||t.status===v;return r&&n&&l}),q=t=>{h(r=>r.includes(t)?r.filter(n=>n!==t):[...r,t])},B=()=>{o.length===x.length?h([]):h(x.map(t=>t._id||t.id))},k=async t=>{if(o.length!==0)try{switch(t){case"activate":break;case"deactivate":break;case"delete":window.confirm(`Delete ${o.length} users?`);break}h([])}catch(r){alert("Failed to perform bulk action: "+r.message)}},V=({user:t,onClose:r,onSave:n})=>{const[l,c]=i.useState({name:(t==null?void 0:t.name)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",role:(t==null?void 0:t.role)||"user",status:(t==null?void 0:t.status)||"active"}),p=d=>{d.preventDefault(),n(l),r()};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${s?"bg-gray-800":"bg-white"} rounded-lg max-w-md w-full p-6 mx-4`,children:[e.jsx("h2",{className:`text-xl font-bold mb-4 ${s?"text-white":"text-gray-900"}`,children:a(t?"admin.users.editUser":"admin.users.createUser")}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:a("auth.fullName")}),e.jsx("input",{type:"text",value:l.name,onChange:d=>c({...l,name:d.target.value}),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${s?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:a("auth.emailAddress")}),e.jsx("input",{type:"email",value:l.email,onChange:d=>c({...l,email:d.target.value}),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${s?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:a("auth.phoneNumber")}),e.jsx("input",{type:"tel",value:l.phone,onChange:d=>c({...l,phone:d.target.value}),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${s?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:a("admin.users.role")}),e.jsxs("select",{value:l.role,onChange:d=>c({...l,role:d.target.value}),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${s?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,children:[e.jsx("option",{value:"user",children:a("admin.users.userRole")}),e.jsx("option",{value:"admin",children:a("admin.users.adminRole")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${s?"text-gray-300":"text-gray-700"}`,children:a("admin.users.status")}),e.jsxs("select",{value:l.status,onChange:d=>c({...l,status:d.target.value}),className:`w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${s?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,children:[e.jsx("option",{value:"active",children:a("admin.users.active")}),e.jsx("option",{value:"inactive",children:a("admin.users.inactive")}),e.jsx("option",{value:"banned",children:a("admin.users.banned")})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:`px-4 py-2 border rounded-md ${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:a("common.cancel")}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:a(t?"common.update":"common.create")})]})]})]})})};return e.jsxs("div",{className:`min-h-screen ${s?"bg-gray-900":"bg-gray-50"}`,children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("button",{onClick:()=>D(G.ADMIN),className:`flex items-center ${s?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-900"} mb-4 transition-colors`,children:[e.jsx(K,{className:"h-5 w-5 mr-2"}),"Back to Dashboard"]}),e.jsx("h1",{className:`text-3xl font-bold ${s?"text-white":"text-gray-900"} mb-2`,children:"User Management"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:"Manage all platform users, roles, and permissions"})]}),R?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"}`,children:"Loading users..."})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6 mb-6`,children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:a("admin.users.searchPlaceholder"),value:f,onChange:t=>P(t.target.value),className:`w-full pl-10 pr-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 ${s?"border-gray-600 bg-gray-700 text-white placeholder-gray-400":"border-gray-300 bg-white text-gray-900 placeholder-gray-500"}`})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:j,onChange:t=>E(t.target.value),className:`border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${s?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,children:[e.jsx("option",{value:"all",children:a("admin.users.allRoles")}),e.jsx("option",{value:"user",children:a("admin.users.userRole")}),e.jsx("option",{value:"admin",children:a("admin.users.adminRole")})]}),e.jsxs("select",{value:v,onChange:t=>L(t.target.value),className:`border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${s?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,children:[e.jsx("option",{value:"all",children:a("admin.users.allStatuses")}),e.jsx("option",{value:"active",children:a("admin.users.active")}),e.jsx("option",{value:"inactive",children:a("admin.users.inactive")}),e.jsx("option",{value:"banned",children:a("admin.users.banned")})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[o.length>0&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>k("activate"),className:"px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm",children:[a("admin.users.activate")," (",o.length,")"]}),e.jsxs("button",{onClick:()=>k("deactivate"),className:"px-3 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 text-sm",children:[a("admin.users.deactivate")," (",o.length,")"]}),e.jsxs("button",{onClick:()=>k("delete"),className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm",children:[a("common.delete")," (",o.length,")"]})]}),e.jsxs("button",{onClick:()=>w(!0),className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[e.jsx(se,{className:"h-5 w-5 mr-2"}),a("admin.users.createUser")]})]})]})}),e.jsxs("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg shadow-sm overflow-hidden`,children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:s?"bg-gray-700":"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:o.length===x.length&&x.length>0,onChange:B,className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"})}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${s?"text-gray-300":"text-gray-500"}`,children:a("admin.users.user")}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${s?"text-gray-300":"text-gray-500"}`,children:a("admin.users.role")}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${s?"text-gray-300":"text-gray-500"}`,children:a("admin.users.status")}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${s?"text-gray-300":"text-gray-500"}`,children:a("admin.users.joinedDate")}),e.jsx("th",{className:`px-6 py-3 text-right text-xs font-medium uppercase tracking-wider ${s?"text-gray-300":"text-gray-500"}`,children:a("common.actions")})]})}),e.jsx("tbody",{className:`${s?"bg-gray-800":"bg-white"} divide-y ${s?"divide-gray-700":"divide-gray-200"}`,children:x.map(t=>{var r,n;return e.jsxs("tr",{className:s?"hover:bg-gray-700":"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:o.includes(t._id||t.id),onChange:()=>q(t._id||t.id),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-red-600",children:((n=(r=t.name)==null?void 0:r.charAt(0))==null?void 0:n.toUpperCase())||"U"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:`text-sm font-medium ${s?"text-white":"text-gray-900"}`,children:t.name}),e.jsx("div",{className:`text-sm ${s?"text-gray-300":"text-gray-500"} flex items-center`,children:t.email}),t.phone&&e.jsx("div",{className:`text-sm ${s?"text-gray-300":"text-gray-500"} flex items-center`,children:t.phone})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:t.role==="admin"?a("admin.users.adminRole"):a("admin.users.userRole")})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.status==="active"?"bg-green-100 text-green-800":t.status==="banned"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:a(`admin.users.${t.status||"active"}`)})}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${s?"text-gray-300":"text-gray-500"}`,children:e.jsx("div",{className:"flex items-center",children:new Date(t.createdAt||t.joinedDate||Date.now()).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>S(t),className:`${s?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-900"}`,children:e.jsx(W,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{$(t),N(!0)},className:"text-red-600 hover:text-red-900",children:e.jsx(X,{className:"h-4 w-4"})})]})})]},t._id||t.id)})})]})}),x.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:`mt-2 text-sm font-medium ${s?"text-gray-300":"text-gray-900"}`,children:a("admin.users.noUsers")}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a("admin.users.noUsersDesc")})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-sm font-medium ${s?"text-gray-300":"text-gray-600"}`,children:a("admin.users.totalUsers")}),e.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:m.length})]})]})}),e.jsx("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Y,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-sm font-medium ${s?"text-gray-300":"text-gray-600"}`,children:a("admin.users.activeUsers")}),e.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:m.filter(t=>t.status==="active").length})]})]})}),e.jsx("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-sm font-medium ${s?"text-gray-300":"text-gray-600"}`,children:a("admin.users.adminUsers")}),e.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:m.filter(t=>t.role==="admin").length})]})]})}),e.jsx("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-sm font-medium ${s?"text-gray-300":"text-gray-600"}`,children:a("admin.users.bannedUsers")}),e.jsx("p",{className:`text-2xl font-bold ${s?"text-white":"text-gray-900"}`,children:m.filter(t=>t.status==="banned").length})]})]})})]})]})]}),(I||g)&&e.jsx(V,{user:g,onClose:()=>{w(!1),S(null)},onSave:t=>{g?M(g._id||g.id,t):O(t)}}),T&&u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${s?"bg-gray-800":"bg-white"} rounded-lg max-w-md w-full p-6 mx-4`,children:[e.jsx("h2",{className:`text-xl font-bold mb-4 ${s?"text-white":"text-gray-900"}`,children:a("admin.users.deleteUser")}),e.jsx("p",{className:`mb-6 ${s?"text-gray-300":"text-gray-600"}`,children:a("admin.users.deleteUserConfirm",{name:u.name})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{N(!1),$(null)},className:`px-4 py-2 border rounded-md ${s?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:a("common.cancel")}),e.jsx("button",{onClick:()=>{F(u._id||u.id),N(!1),$(null)},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:a("common.delete")})]})]})})]})};export{oe as default};
//# sourceMappingURL=AdminUsers-DCY1fCPl.js.map
