import{c as H,u as J,r as i,j as e}from"./index-Iy8zicZ9.js";import{S as K}from"./search-Bjxn-y9V.js";import{E as Q}from"./eye-BVImR0vu.js";import{C as _}from"./circle-check-big-CFTT60CK.js";import{T as W}from"./trash-2-B1NMGobO.js";import{C as D}from"./circle-alert-CwmAvhHE.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],F=H("circle-x",Y),te=({items:g=[],darkMode:t,onUpdateItem:Z,onDeleteItem:x,onApproveItem:c,onRejectItem:n})=>{const{t:a}=J(),[m,T]=i.useState(""),[b,U]=i.useState("all"),[f,E]=i.useState("all"),[h,P]=i.useState("all"),[l,p]=i.useState([]),[w,v]=i.useState(null),[z,y]=i.useState(!1),[u,j]=i.useState(null),[$,B]=i.useState("newest"),A=["electronic","document","clothing","accessory","other"],d=g.filter(s=>{var C,S,L;const r=((C=s.title)==null?void 0:C.toLowerCase().includes(m.toLowerCase()))||((S=s.description)==null?void 0:S.toLowerCase().includes(m.toLowerCase()))||((L=s.location)==null?void 0:L.toLowerCase().includes(m.toLowerCase())),o=b==="all"||s.status===b,X=f==="all"||s.category===f,G=h==="all"||h==="pending"&&!s.approved&&!s.rejected||h==="approved"&&s.approved||h==="rejected"&&s.rejected;return r&&o&&X&&G}).sort((s,r)=>{switch($){case"newest":return new Date(r.createdAt||r.date)-new Date(s.createdAt||s.date);case"oldest":return new Date(s.createdAt||s.date)-new Date(r.createdAt||r.date);case"title":return s.title.localeCompare(r.title);case"location":return s.location.localeCompare(r.location);default:return 0}}),q=s=>{p(r=>r.includes(s)?r.filter(o=>o!==s):[...r,s])},O=()=>{l.length===d.length?p([]):p(d.map(s=>s._id||s.id))},N=async s=>{if(l.length!==0)try{switch(s){case"approve":l.forEach(r=>c==null?void 0:c(r));break;case"reject":l.forEach(r=>n==null?void 0:n(r));break;case"delete":window.confirm(`Delete ${l.length} items?`)&&l.forEach(r=>x==null?void 0:x(r));break}p([])}catch(r){alert("Failed to perform bulk action: "+r.message)}},V=({item:s,onClose:r})=>{var o;return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto`,children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h2",{className:`text-xl font-bold ${t?"text-white":"text-gray-900"}`,children:s.title}),e.jsx("button",{onClick:r,className:`${t?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-800"}`})]}),s.imageUrl&&e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-64 object-cover rounded-lg"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold mb-2 ${t?"text-white":"text-gray-900"}`,children:a("admin.posts.itemDetails")}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:`font-medium mr-2 ${t?"text-gray-300":"text-gray-600"}`,children:[a("common.status"),":"]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s.status==="Lost"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:s.status})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:`font-medium mr-2 ${t?"text-gray-300":"text-gray-600"}`,children:[a("common.category"),":"]}),e.jsx("span",{className:t?"text-gray-300":"text-gray-700",children:s.category})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:t?"text-gray-300":"text-gray-700",children:s.location})}),e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:t?"text-gray-300":"text-gray-700",children:new Date(s.createdAt||s.date).toLocaleDateString()})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold mb-2 ${t?"text-white":"text-gray-900"}`,children:a("admin.posts.ownerDetails")}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:t?"text-gray-300":"text-gray-700",children:((o=s.owner)==null?void 0:o.name)||"Unknown User"})}),s.contact&&e.jsxs("div",{className:`${t?"text-gray-300":"text-gray-700"}`,children:[a("common.email"),": ",s.contact]}),s.phone&&e.jsxs("div",{className:`${t?"text-gray-300":"text-gray-700"}`,children:[a("common.phone"),": ",s.phone]})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:`font-semibold mb-2 ${t?"text-white":"text-gray-900"}`,children:a("common.description")}),e.jsx("p",{className:`text-sm ${t?"text-gray-300":"text-gray-700"}`,children:s.description})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[!s.approved&&!s.rejected&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{n==null||n(s._id||s.id),r()},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:a("admin.posts.reject")}),e.jsx("button",{onClick:()=>{c==null||c(s._id||s.id),r()},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:a("admin.posts.approve")})]}),e.jsx("button",{onClick:()=>{j(s),y(!0),r()},className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:a("common.delete")})]})]})})}):null};return e.jsxs("div",{className:`min-h-screen ${t?"bg-gray-900":"bg-gray-50"}`,children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:`text-3xl font-bold ${t?"text-white":"text-gray-900"} mb-2`,children:a("admin.posts.title")}),e.jsx("p",{className:`${t?"text-gray-300":"text-gray-600"}`,children:a("admin.posts.subtitle")})]}),e.jsx("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6 mb-6`,children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(K,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:a("admin.posts.searchPlaceholder"),value:m,onChange:s=>T(s.target.value),className:`w-full pl-10 pr-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 ${t?"border-gray-600 bg-gray-700 text-white placeholder-gray-400":"border-gray-300 bg-white text-gray-900 placeholder-gray-500"}`})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs("select",{value:b,onChange:s=>U(s.target.value),className:`border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${t?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,children:[e.jsx("option",{value:"all",children:a("admin.posts.allStatuses")}),e.jsx("option",{value:"Lost",children:a("common.lost")}),e.jsx("option",{value:"Found",children:a("common.found")})]}),e.jsxs("select",{value:f,onChange:s=>E(s.target.value),className:`border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${t?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,children:[e.jsx("option",{value:"all",children:a("admin.posts.allCategories")}),A.map(s=>e.jsx("option",{value:s,children:a(`categories.${s}`)},s))]}),e.jsxs("select",{value:h,onChange:s=>P(s.target.value),className:`border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${t?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,children:[e.jsx("option",{value:"all",children:a("admin.posts.allApproval")}),e.jsx("option",{value:"pending",children:a("admin.posts.pending")}),e.jsx("option",{value:"approved",children:a("admin.posts.approved")}),e.jsx("option",{value:"rejected",children:a("admin.posts.rejected")})]}),e.jsxs("select",{value:$,onChange:s=>B(s.target.value),className:`border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 ${t?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"}`,children:[e.jsx("option",{value:"newest",children:a("admin.posts.sortNewest")}),e.jsx("option",{value:"oldest",children:a("admin.posts.sortOldest")}),e.jsx("option",{value:"title",children:a("admin.posts.sortTitle")}),e.jsx("option",{value:"location",children:a("admin.posts.sortLocation")})]})]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.length>0&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>N("approve"),className:"px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm",children:[a("admin.posts.approve")," (",l.length,")"]}),e.jsxs("button",{onClick:()=>N("reject"),className:"px-3 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 text-sm",children:[a("admin.posts.reject")," (",l.length,")"]}),e.jsxs("button",{onClick:()=>N("delete"),className:"px-3 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm",children:[a("common.delete")," (",l.length,")"]})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:`flex items-center px-4 py-2 border rounded-md ${t?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:a("common.refresh")})]})]})}),e.jsxs("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg shadow-sm overflow-hidden`,children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:t?"bg-gray-700":"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:l.length===d.length&&d.length>0,onChange:O,className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"})}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:a("admin.posts.item")}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:a("admin.posts.owner")}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:a("common.status")}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:a("admin.posts.approval")}),e.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:a("common.date")}),e.jsx("th",{className:`px-6 py-3 text-right text-xs font-medium uppercase tracking-wider ${t?"text-gray-300":"text-gray-500"}`,children:a("common.actions")})]})}),e.jsx("tbody",{className:`${t?"bg-gray-800":"bg-white"} divide-y ${t?"divide-gray-700":"divide-gray-200"}`,children:d.map(s=>{var r;return e.jsxs("tr",{className:t?"hover:bg-gray-700":"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:l.includes(s._id||s.id),onChange:()=>q(s._id||s.id),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-12 w-12",children:e.jsx("img",{className:"h-12 w-12 rounded-lg object-cover",src:s.imageUrl||`https://placehold.co/100x100/gray/white?text=${s.title.charAt(0)}`,alt:s.title})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:`text-sm font-medium ${t?"text-white":"text-gray-900"}`,children:s.title}),e.jsx("div",{className:`text-sm ${t?"text-gray-300":"text-gray-500"} flex items-center`,children:s.location}),e.jsx("div",{className:"text-xs text-gray-400",children:s.category})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:`text-sm ${t?"text-gray-300":"text-gray-900"}`,children:((r=s.owner)==null?void 0:r.name)||"Unknown User"}),s.contact&&e.jsx("div",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:s.contact})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="Lost"?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:[(s.status==="Lost",""),s.status]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.approved?"bg-green-100 text-green-800":s.rejected?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:s.approved?a("admin.posts.approved"):s.rejected?a("admin.posts.rejected"):a("admin.posts.pending")})}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${t?"text-gray-300":"text-gray-500"}`,children:e.jsx("div",{className:"flex items-center",children:new Date(s.createdAt||s.date).toLocaleDateString()})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{onClick:()=>v(s),className:`${t?"text-gray-400 hover:text-gray-200":"text-gray-600 hover:text-gray-900"}`,children:e.jsx(Q,{className:"h-4 w-4"})}),!s.approved&&!s.rejected&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>c==null?void 0:c(s._id||s.id),className:"text-green-600 hover:text-green-900",children:e.jsx(_,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>n==null?void 0:n(s._id||s.id),className:"text-yellow-600 hover:text-yellow-900",children:e.jsx(F,{className:"h-4 w-4"})})]}),e.jsx("button",{onClick:()=>{j(s),y(!0)},className:"text-red-600 hover:text-red-900",children:e.jsx(W,{className:"h-4 w-4"})})]})})]},s._id||s.id)})})]})}),d.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:`mt-2 text-sm font-medium ${t?"text-gray-300":"text-gray-900"}`,children:a("admin.posts.noPosts")}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a("admin.posts.noPostsDesc")})]})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-600"}`,children:a("admin.posts.totalPosts")}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:g.length})]})]})}),e.jsx("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(D,{className:"h-8 w-8 text-yellow-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-600"}`,children:a("admin.posts.pendingApproval")}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:g.filter(s=>!s.approved&&!s.rejected).length})]})]})}),e.jsx("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(F,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-600"}`,children:a("admin.posts.lostItems")}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:g.filter(s=>s.status==="Lost").length})]})]})}),e.jsx("div",{className:`${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-4`,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(_,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:`text-sm font-medium ${t?"text-gray-300":"text-gray-600"}`,children:a("admin.posts.foundItems")}),e.jsx("p",{className:`text-2xl font-bold ${t?"text-white":"text-gray-900"}`,children:g.filter(s=>s.status==="Found").length})]})]})})]})]}),w&&e.jsx(V,{item:w,onClose:()=>v(null)}),z&&u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:`${t?"bg-gray-800":"bg-white"} rounded-lg max-w-md w-full p-6 mx-4`,children:[e.jsx("h2",{className:`text-xl font-bold mb-4 ${t?"text-white":"text-gray-900"}`,children:a("admin.posts.deletePost")}),e.jsx("p",{className:`mb-6 ${t?"text-gray-300":"text-gray-600"}`,children:a("admin.posts.deletePostConfirm",{title:u.title})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{y(!1),j(null)},className:`px-4 py-2 border rounded-md ${t?"border-gray-600 text-gray-300 hover:bg-gray-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:a("common.cancel")}),e.jsx("button",{onClick:()=>{x==null||x(u._id||u.id),y(!1),j(null)},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:a("common.delete")})]})]})})]})};export{te as default};
//# sourceMappingURL=AdminPosts-Dxpzm8sr.js.map
