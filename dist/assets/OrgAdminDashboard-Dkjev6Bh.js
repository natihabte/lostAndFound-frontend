import{c as F,u as G,a as J,b as V,r as o,j as e}from"./index-Iy8zicZ9.js";import{P as H}from"./package-De_hKe7X.js";import{C as K}from"./circle-alert-CwmAvhHE.js";import{U as Q}from"./users-0o1HJof3.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Y=F("layout-dashboard",W),se=()=>{var N,f,w,$,k,C,I,R,A,S,_,D,O;const{t:q}=G();J();const{darkMode:r,currentUser:m}=V(),[i,B]=o.useState({}),[g,y]=o.useState([]),[h,b]=o.useState([]),[L,U]=o.useState([]),[z,u]=o.useState(!0),[c,p]=o.useState("overview");o.useEffect(()=>{E()},[]);const E=async()=>{try{u(!0);const t={users:{total:245,active:198,inactive:47},lostItems:{total:89,pending:12,approved:65,approvalRate:73},foundItems:{total:67,pending:8,verified:52,verificationRate:78},claims:{total:34,pending:6,approved:23,approvalRate:68},recentActivity:[{_id:"1",action:"lost_item_approved",description:"Lost laptop approved for posting",user:{name:"John Doe"},createdAt:new Date().toISOString()},{_id:"2",action:"claim_approved",description:"Claim for found wallet approved",user:{name:"Jane Smith"},createdAt:new Date().toISOString()}]},s=[{_id:"1",title:"Lost iPhone 13",category:"electronics",type:"lost",reportedBy:{name:"Ahmed Ali",email:"ahmed@example.com"},createdAt:new Date().toISOString(),status:"pending"},{_id:"2",title:"Found Wallet",category:"accessories",type:"found",foundBy:{name:"Sara Mohammed",email:"sara@example.com"},createdAt:new Date().toISOString(),status:"pending"}],a=[{_id:"1",claimedBy:{name:"Meron Teshome",email:"meron@example.com"},lostItem:{title:"Lost Backpack",category:"bags"},createdAt:new Date().toISOString(),status:"pending"},{_id:"2",claimedBy:{name:"Dawit Bekele",email:"dawit@example.com"},foundItem:{title:"Found Keys",category:"keys"},createdAt:new Date().toISOString(),status:"pending"}],n=[{_id:"1",name:"Tigist Haile",email:"tigist@example.com",status:"active",createdAt:new Date().toISOString()},{_id:"2",name:"Yohannes Tadesse",email:"yohannes@example.com",status:"active",createdAt:new Date().toISOString()}];B(t),y(s),b(a),U(n)}catch(t){console.error("Error fetching dashboard data:",t)}finally{u(!1)}},v=async(t,s,a)=>{try{y(n=>n.filter(l=>l._id!==t)),alert(`${s} item ${a}d successfully`)}catch(n){console.error("Error updating item:",n),alert("Error updating item")}},j=async(t,s)=>{try{b(a=>a.filter(n=>n._id!==t)),alert(`Claim ${s}d successfully`)}catch(a){console.error("Error updating claim:",a),alert("Error updating claim")}},d=({title:t,value:s,icon:a,color:n="text-blue-600",subtitle:l,trend:x})=>e.jsx("div",{className:`${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border rounded-lg p-6`,children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:t}),e.jsx("p",{className:`text-2xl font-bold ${r?"text-white":"text-gray-900"} mt-1`,children:s}),l&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l}),x&&e.jsx("div",{className:"flex items-center mt-2",children:e.jsx("span",{className:"text-xs text-green-500",children:x})})]})})}),M=({item:t})=>{var s,a;return e.jsx("div",{className:`${r?"bg-gray-700 border-gray-600":"bg-white border-gray-200"} border rounded-lg p-4`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h4",{className:`font-medium ${r?"text-white":"text-gray-900"}`,children:t.title}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t.type==="lost"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:t.type})]}),e.jsxs("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"} mb-2`,children:["Category: ",t.category]}),e.jsxs("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:[t.type==="lost"?"Reported by":"Found by",": ",((s=t.reportedBy)==null?void 0:s.name)||((a=t.foundBy)==null?void 0:a.name)]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>v(t._id,t.type,"approve"),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Approve"}),e.jsx("button",{onClick:()=>{prompt("Reason for rejection:")&&v(t._id,t.type,"reject")},className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Reject"})]})]})})},T=({claim:t})=>{var s,a,n,l,x,P;return e.jsx("div",{className:`${r?"bg-gray-700 border-gray-600":"bg-white border-gray-200"} border rounded-lg p-4`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center space-x-2 mb-2",children:e.jsxs("h4",{className:`font-medium ${r?"text-white":"text-gray-900"}`,children:["Claim for ",((s=t.lostItem)==null?void 0:s.title)||((a=t.foundItem)==null?void 0:a.title)]})}),e.jsxs("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"} mb-2`,children:["Category: ",((n=t.lostItem)==null?void 0:n.category)||((l=t.foundItem)==null?void 0:l.category)]}),e.jsxs("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:["Claimed by: ",(x=t.claimedBy)==null?void 0:x.name," (",(P=t.claimedBy)==null?void 0:P.email,")"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>j(t._id,"approve"),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-lg transition-colors",title:"Approve Claim"}),e.jsx("button",{onClick:()=>{prompt("Reason for rejection:")&&j(t._id,"reject")},className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Reject Claim"})]})]})})};return z?e.jsx("div",{className:`min-h-screen ${r?"bg-gray-900":"bg-gray-50"} p-6`,children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})}):e.jsx("div",{className:`min-h-screen ${r?"bg-gray-900":"bg-gray-50"} p-6`,children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:`text-3xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Organization Admin Dashboard"}),e.jsx("p",{className:`mt-2 ${r?"text-gray-400":"text-gray-600"}`,children:"Manage your organization's lost and found system"}),(m==null?void 0:m.organization)&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Organization: ",m.organization.name]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("button",{onClick:()=>alert("Generate Report feature coming soon!"),className:"flex items-center space-x-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:e.jsx("span",{children:"Generate Report"})})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(d,{title:"Organization Users",value:((N=i.users)==null?void 0:N.total)||0,color:"text-blue-600",subtitle:`${((f=i.users)==null?void 0:f.active)||0} active`,trend:"+12% this month"}),e.jsx(d,{title:"Lost Items",value:((w=i.lostItems)==null?void 0:w.total)||0,color:"text-red-600",subtitle:`${(($=i.lostItems)==null?void 0:$.pending)||0} pending approval`}),e.jsx(d,{title:"Found Items",value:((k=i.foundItems)==null?void 0:k.total)||0,color:"text-green-600",subtitle:`${((C=i.foundItems)==null?void 0:C.pending)||0} pending verification`}),e.jsx(d,{title:"Claims",value:((I=i.claims)==null?void 0:I.total)||0,color:"text-purple-600",subtitle:`${((R=i.claims)==null?void 0:R.pending)||0} pending review`})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(d,{title:"Approval Rate",value:`${((A=i.lostItems)==null?void 0:A.approvalRate)||0}%`,color:"text-orange-600",subtitle:"Lost items approved"}),e.jsx(d,{title:"Verification Rate",value:`${((S=i.foundItems)==null?void 0:S.verificationRate)||0}%`,color:"text-indigo-600",subtitle:"Found items verified"}),e.jsx(d,{title:"Resolution Rate",value:`${((_=i.claims)==null?void 0:_.approvalRate)||0}%`,color:"text-pink-600",subtitle:"Claims resolved"})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",name:"Overview",icon:Y},{id:"pending-items",name:"Pending Items",count:g.length,icon:H},{id:"pending-claims",name:"Pending Claims",count:h.length,icon:K},{id:"users",name:"Users",icon:Q}].map(t=>e.jsxs("button",{onClick:()=>p(t.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${c===t.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[e.jsx(t.icon,{className:"h-4 w-4"}),e.jsx("span",{children:t.name}),t.count>0&&e.jsx("span",{className:"bg-red-100 text-red-800 text-xs font-medium px-2 py-1 rounded-full dark:bg-red-900 dark:text-red-200",children:t.count})]},t.id))})})}),c==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-lg shadow`,children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:`text-lg font-medium ${r?"text-white":"text-gray-900"}`,children:"Recent Activity"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:(D=i.recentActivity)==null?void 0:D.map(t=>{var s;return e.jsx("div",{className:"flex items-start space-x-3",children:e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${r?"text-white":"text-gray-900"}`,children:t.description}),e.jsxs("p",{className:`text-xs ${r?"text-gray-400":"text-gray-500"} mt-1`,children:[(s=t.user)==null?void 0:s.name," â€¢ ",new Date(t.createdAt).toLocaleDateString()]})]})},t._id)})})})]}),e.jsxs("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-lg shadow`,children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:e.jsx("h3",{className:`text-lg font-medium ${r?"text-white":"text-gray-900"}`,children:"Quick Actions"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>p("pending-items"),className:`p-4 border-2 border-dashed rounded-lg text-center hover:border-blue-500 transition-colors ${r?"border-gray-600 hover:bg-gray-700":"border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-gray-900"}`,children:"Review Items"}),e.jsxs("p",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:[g.length," pending"]})]}),e.jsxs("button",{onClick:()=>p("pending-claims"),className:`p-4 border-2 border-dashed rounded-lg text-center hover:border-purple-500 transition-colors ${r?"border-gray-600 hover:bg-gray-700":"border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-gray-900"}`,children:"Review Claims"}),e.jsxs("p",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:[h.length," pending"]})]}),e.jsxs("button",{onClick:()=>p("users"),className:`p-4 border-2 border-dashed rounded-lg text-center hover:border-green-500 transition-colors ${r?"border-gray-600 hover:bg-gray-700":"border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-gray-900"}`,children:"Manage Users"}),e.jsxs("p",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:[((O=i.users)==null?void 0:O.total)||0," total"]})]}),e.jsxs("button",{onClick:()=>alert("Generate Report feature coming soon!"),className:`p-4 border-2 border-dashed rounded-lg text-center hover:border-orange-500 transition-colors ${r?"border-gray-600 hover:bg-gray-700":"border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("p",{className:`text-sm font-medium ${r?"text-white":"text-gray-900"}`,children:"View Reports"}),e.jsx("p",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:"Analytics"})]})]})})]})]}),c==="pending-items"&&e.jsxs("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-lg shadow`,children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:`text-lg font-medium ${r?"text-white":"text-gray-900"}`,children:"Pending Items for Review"}),e.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"} mt-1`,children:"Review and approve/reject lost and found items"})]}),e.jsx("div",{className:"p-6",children:g.length>0?e.jsx("div",{className:"space-y-4",children:g.map(t=>e.jsx(M,{item:t},t._id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("h3",{className:`text-lg font-medium ${r?"text-white":"text-gray-900"} mb-2`,children:"No pending items"}),e.jsx("p",{className:`${r?"text-gray-400":"text-gray-600"}`,children:"All items have been reviewed"})]})})]}),c==="pending-claims"&&e.jsxs("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-lg shadow`,children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:`text-lg font-medium ${r?"text-white":"text-gray-900"}`,children:"Pending Claims for Review"}),e.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"} mt-1`,children:"Review and approve/reject item claims"})]}),e.jsx("div",{className:"p-6",children:h.length>0?e.jsx("div",{className:"space-y-4",children:h.map(t=>e.jsx(T,{claim:t},t._id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("h3",{className:`text-lg font-medium ${r?"text-white":"text-gray-900"} mb-2`,children:"No pending claims"}),e.jsx("p",{className:`${r?"text-gray-400":"text-gray-600"}`,children:"All claims have been reviewed"})]})})]}),c==="users"&&e.jsxs("div",{className:`${r?"bg-gray-800":"bg-white"} rounded-lg shadow`,children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:`text-lg font-medium ${r?"text-white":"text-gray-900"}`,children:"Organization Users"}),e.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"} mt-1`,children:"Manage users in your organization"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:L.map(t=>e.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg ${r?"border-gray-700":"border-gray-200"}`,children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:`font-medium ${r?"text-white":"text-gray-900"}`,children:t.name}),e.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:t.email})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t.status==="active"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:t.status}),e.jsx("button",{onClick:()=>alert("User management feature coming soon!"),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300"})]})]},t._id))})})]})]})})};export{se as default};
//# sourceMappingURL=OrgAdminDashboard-Dkjev6Bh.js.map
