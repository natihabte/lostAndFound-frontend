{"version":3,"mappings":"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","names":["__iconNode","Image","createLucideIcon","Upload","ModernAddItem","onSubmit","currentUser","editingItem","selectedOrganization","navigate","useNavigate","t","useTranslation","formData","setFormData","useState","imageFile","setImageFile","imagePreview","setImagePreview","uploading","setUploading","loading","setLoading","error","setError","categories","handleImageUpload","e","file","reader","base64Image","uploadAPI","__vitePreload","n","response","prev","handleSubmit","submitData","removeImage","handleClose","jsxs","jsx","X","Tag","cat","MapPin","FileText","ImageIcon","Save"],"ignoreList":[0,1],"sources":["../../node_modules/lucide-react/dist/esm/icons/image.js","../../node_modules/lucide-react/dist/esm/icons/upload.js","../../src/components/ModernAddItem.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.555.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", ry: \"2\", key: \"1m3agn\" }],\n  [\"circle\", { cx: \"9\", cy: \"9\", r: \"2\", key: \"af1f0g\" }],\n  [\"path\", { d: \"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21\", key: \"1xmnt7\" }]\n];\nconst Image = createLucideIcon(\"image\", __iconNode);\n\nexport { __iconNode, Image as default };\n//# sourceMappingURL=image.js.map\n","/**\n * @license lucide-react v0.555.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 3v12\", key: \"1x0j5s\" }],\n  [\"path\", { d: \"m17 8-5-5-5 5\", key: \"7q97r8\" }],\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }]\n];\nconst Upload = createLucideIcon(\"upload\", __iconNode);\n\nexport { __iconNode, Upload as default };\n//# sourceMappingURL=upload.js.map\n","import React, { useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { ROUTES } from '../constants/routes';\r\nimport { Upload, MapPin, Tag, FileText, Save, X, Image as ImageIcon } from 'lucide-react';\r\n\r\nconst ModernAddItem = ({ onSubmit, currentUser, editingItem, selectedOrganization }) => {\r\n  const navigate = useNavigate();\r\n  const { t } = useTranslation();\r\n  const [formData, setFormData] = useState({\r\n    title: editingItem?.title || '',\r\n    description: editingItem?.description || '',\r\n    category: editingItem?.category || 'electronic',\r\n    status: editingItem?.status || 'Lost',\r\n    location: editingItem?.location || '',\r\n    contact: editingItem?.contact || currentUser?.email || '',\r\n    phone: editingItem?.phone || currentUser?.phone || '',\r\n    imageUrl: editingItem?.imageUrl || ''\r\n  });\r\n\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState(editingItem?.imageUrl || null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const categories = [\r\n    { value: 'electronic', label: t('categories.electronic') },\r\n    { value: 'clothing', label: t('categories.clothing') },\r\n    { value: 'accessory', label: t('categories.accessory') },\r\n    { value: 'document', label: t('categories.document') },\r\n    { value: 'book', label: t('categories.book') },\r\n    { value: 'other', label: t('categories.other') }\r\n  ];\r\n\r\n  const handleImageUpload = async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    // Validate file size (5MB max)\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      setError(t('addItem.errors.imageSizeLimit'));\r\n      return;\r\n    }\r\n\r\n    // Validate file type\r\n    if (!file.type.startsWith('image/')) {\r\n      setError(t('addItem.errors.invalidImageType'));\r\n      return;\r\n    }\r\n\r\n    setImageFile(file);\r\n    setError('');\r\n\r\n    // Show preview immediately and store it\r\n    const reader = new FileReader();\r\n    reader.onloadend = () => {\r\n      const base64Image = reader.result;\r\n      setImagePreview(base64Image);\r\n      \r\n      // Try to upload to server (optional - don't block if it fails)\r\n      setUploading(true);\r\n      \r\n      // Upload in background\r\n      (async () => {\r\n        try {\r\n          const { uploadAPI } = await import('../services/api');\r\n          const response = await uploadAPI.uploadImage(file);\r\n          setFormData(prev => ({ ...prev, imageUrl: response.data.url }));\r\n          console.log('âœ… Image uploaded successfully:', response.data.url);\r\n        } catch (error) {\r\n          console.warn('âš ï¸ Image upload failed, using local preview:', error);\r\n          // Store the base64 preview as the imageUrl for offline use\r\n          setFormData(prev => ({ ...prev, imageUrl: base64Image }));\r\n        } finally {\r\n          setUploading(false);\r\n        }\r\n      })();\r\n    };\r\n    reader.readAsDataURL(file);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.title.trim() || !formData.description.trim() || !formData.location.trim()) {\r\n      setError(t('addItem.errors.requiredFields'));\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const submitData = {\r\n        ...formData,\r\n        ...(selectedOrganization && { organizationId: selectedOrganization.id })\r\n      };\r\n      await onSubmit(submitData);\r\n      navigate(-1); // Go back to previous page\r\n    } catch (error) {\r\n      setError(error.message || t('addItem.errors.submitFailed'));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const removeImage = () => {\r\n    setImageFile(null);\r\n    setImagePreview(null);\r\n    setFormData(prev => ({ ...prev, imageUrl: '' }));\r\n  };\r\n\r\n  const handleClose = () => {\r\n    navigate(-1); // Go back to previous page\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">\r\n              {editingItem ? t('addItem.editTitle') : t('addItem.postTitle')}\r\n            </h2>\r\n            <p className=\"text-gray-600 mt-1\">\r\n              {editingItem ? t('addItem.editSubtitle') : t('addItem.postSubtitle')}\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={handleClose}\r\n            className=\"p-2 hover:bg-gray-100 rounded-xl transition-colors\"\r\n          >\r\n            <X className=\"h-5 w-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\r\n          {/* Status Selection */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-3\">{t('addItem.whatHappened')}</label>\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setFormData(prev => ({ ...prev, status: 'Lost' }))}\r\n                className={`p-4 rounded-xl border-2 transition-all ${\r\n                  formData.status === 'Lost'\r\n                    ? 'border-red-500 bg-red-50 text-red-700'\r\n                    : 'border-gray-200 hover:border-red-300'\r\n                }`}\r\n              >\r\n                <div className=\"text-2xl mb-2\">ðŸ˜¢</div>\r\n                <div className=\"font-medium\">{t('addItem.lostSomething')}</div>\r\n                <div className=\"text-sm text-gray-600\">{t('addItem.reportLost')}</div>\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setFormData(prev => ({ ...prev, status: 'Found' }))}\r\n                className={`p-4 rounded-xl border-2 transition-all ${\r\n                  formData.status === 'Found'\r\n                    ? 'border-green-500 bg-green-50 text-green-700'\r\n                    : 'border-gray-200 hover:border-green-300'\r\n                }`}\r\n              >\r\n                <div className=\"font-medium\">{t('addItem.foundSomething')}</div>\r\n                <div className=\"text-sm text-gray-600\">{t('addItem.reportFound')}</div>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Organization Selection (if not pre-selected) */}\r\n          {!selectedOrganization && (\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\r\n                <Tag className=\"h-4 w-4 mr-2\" />\r\n                {t('addItem.selectOrganization')} (Optional)\r\n              </label>\r\n              <select\r\n                value={formData.organizationId || ''}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, organizationId: e.target.value }))}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"\">{t('addItem.noOrganization')}</option>\r\n                {/* TODO: Load organizations from API */}\r\n                <option value=\"org_1\">Addis Ababa University</option>\r\n                <option value=\"org_2\">Hawassa University</option>\r\n                <option value=\"org_3\">Black Lion Hospital</option>\r\n              </select>\r\n            </div>\r\n          )}\r\n\r\n          {/* Show selected organization */}\r\n          {selectedOrganization && (\r\n            <div className=\"bg-blue-50 border border-blue-200 rounded-xl p-4\">\r\n              <div className=\"flex items-center\">\r\n                <img \r\n                  src={selectedOrganization.logo} \r\n                  alt={selectedOrganization.name}\r\n                  className=\"w-12 h-12 rounded-lg object-cover mr-3\"\r\n                />\r\n                <div>\r\n                  <p className=\"font-medium text-blue-900\">\r\n                    {t('addItem.postingTo')}: {selectedOrganization.name}\r\n                  </p>\r\n                  <p className=\"text-sm text-blue-600\">{selectedOrganization.location}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Title */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              {t('addItem.itemTitle')} *\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={formData.title}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, title: e.target.value }))}\r\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder={t('addItem.titlePlaceholder')}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Category */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\r\n              <Tag className=\"h-4 w-4 mr-2\" />\r\n              {t('items.category')} *\r\n            </label>\r\n            <div className=\"grid grid-cols-3 gap-3\">\r\n              {categories.map(cat => (\r\n                <button\r\n                  key={cat.value}\r\n                  type=\"button\"\r\n                  onClick={() => setFormData(prev => ({ ...prev, category: cat.value }))}\r\n                  className={`p-3 rounded-xl border-2 transition-all text-center ${\r\n                    formData.category === cat.value\r\n                      ? 'border-blue-500 bg-blue-50 text-blue-700'\r\n                      : 'border-gray-200 hover:border-blue-300'\r\n                  }`}\r\n                >\r\n                  <div className=\"text-xl mb-1\"></div>\r\n                  <div className=\"text-sm font-medium\">{cat.label}</div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Location */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\r\n              <MapPin className=\"h-4 w-4 mr-2\" />\r\n              {t('items.location')} *\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={formData.location}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, location: e.target.value }))}\r\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n              placeholder={t('addItem.locationPlaceholder')}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Description */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\r\n              <FileText className=\"h-4 w-4 mr-2\" />\r\n              {t('items.description')} *\r\n            </label>\r\n            <textarea\r\n              value={formData.description}\r\n              onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n              rows=\"4\"\r\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\r\n              placeholder={t('addItem.descriptionPlaceholder')}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          {/* Image Upload */}\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2 flex items-center\">\r\n              <ImageIcon className=\"h-4 w-4 mr-2\" />\r\n              {t('addItem.photo')} (Optional)\r\n            </label>\r\n            \r\n            {imagePreview ? (\r\n              <div className=\"relative\">\r\n                <img \r\n                  src={imagePreview} \r\n                  alt=\"Preview\" \r\n                  className=\"w-full h-48 object-cover rounded-xl border border-gray-200\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={removeImage}\r\n                  className=\"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors\"\r\n                >\r\n                  <X className=\"h-4 w-4\" />\r\n                </button>\r\n                {uploading && (\r\n                  <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded-xl\">\r\n                    <div className=\"text-white text-sm\">{t('addItem.uploading')}</div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div className=\"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors\">\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleImageUpload}\r\n                  className=\"hidden\"\r\n                  id=\"image-upload\"\r\n                  disabled={uploading}\r\n                />\r\n                <label htmlFor=\"image-upload\" className=\"cursor-pointer\">\r\n                  <Upload className=\"h-12 w-12 mx-auto mb-3 text-gray-400\" />\r\n                  <p className=\"text-sm text-gray-600 mb-1\">\r\n                    <span className=\"font-medium text-blue-600\">{t('addItem.clickToUpload')}</span> {t('addItem.orDragDrop')}\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-500\">{t('addItem.imageFormats')}</p>\r\n                  <p className=\"text-xs text-green-600 mt-1\">Upload works with local preview</p>\r\n                </label>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Contact Information */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                \r\n                {t('addItem.contactEmail')}\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                value={formData.contact}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, contact: e.target.value }))}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                placeholder={t('auth.emailPlaceholder')}\r\n              />\r\n            </div>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                \r\n                {t('addItem.phoneNumber')}\r\n              </label>\r\n              <input\r\n                type=\"tel\"\r\n                value={formData.phone}\r\n                onChange={(e) => setFormData(prev => ({ ...prev, phone: e.target.value }))}\r\n                className=\"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n                placeholder={t('auth.phoneNumberPlaceholder')}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Error Message - Only show non-upload errors */}\r\n          {error && !error.includes('upload') && !error.includes('Upload') && (\r\n            <div className=\"bg-red-50 border border-red-200 rounded-xl p-4 flex items-start\">\r\n              \r\n              <p className=\"text-sm text-red-600\">{error}</p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Submit Buttons */}\r\n          <div className=\"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleClose}\r\n              className=\"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium\"\r\n            >\r\n              {t('items.cancel')}\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading || uploading}\r\n              className={`px-6 py-3 rounded-xl font-medium transition-colors flex items-center ${\r\n                formData.status === 'Lost'\r\n                  ? 'bg-red-600 hover:bg-red-700 text-white'\r\n                  : 'bg-green-600 hover:bg-green-700 text-white'\r\n              } disabled:opacity-50`}\r\n            >\r\n              <Save className=\"h-5 w-5 mr-2\" />\r\n              {loading \r\n                ? (editingItem ? t('addItem.updating') : t('addItem.posting')) \r\n                : (editingItem ? t('addItem.updateButton') : t('addItem.postButton', { status: formData.status }))}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModernAddItem;"],"file":"assets/ModernAddItem-7wVd7cnS.js"}