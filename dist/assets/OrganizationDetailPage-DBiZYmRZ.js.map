{"version":3,"mappings":"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","names":["OrganizationDetailPage","organization","onBack","isLoggedIn","currentUser","darkMode","setCurrentPage","onClaimItem","onContactOwner","onViewDetails","t","useTranslation","items","setItems","useState","loading","setLoading","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","selectedStatus","setSelectedStatus","viewMode","setViewMode","sortBy","setSortBy","activeTab","setActiveTab","categories","mockItems","useEffect","organizationsAPI","__vitePreload","n","response","error","organizationStats","useMemo","lostItems","item","foundItems","returnedItems","activeItems","filteredItems","filterItemsBySearch","matchesCategory","matchesStatus","a","b","jsx","jsxs","Fragment","quickReport","_a","UniversalSearchBar","e","cat","LoadingState","NoItemsFound","ModernItemCard","_b","_c","_d"],"ignoreList":[],"sources":["../../src/pages/OrganizationDetailPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport ModernItemCard from '../components/ModernItemCard';\r\nimport UniversalSearchBar, { filterItemsBySearch } from '../components/UniversalSearchBar';\r\nimport { NoItemsFound, LoadingState } from '../components/EmptyStates';\r\n\r\nconst OrganizationDetailPage = ({ \r\n  organization,\r\n  onBack,\r\n  isLoggedIn,\r\n  currentUser,\r\n  darkMode,\r\n  setCurrentPage,\r\n  onClaimItem,\r\n  onContactOwner,\r\n  onViewDetails\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [selectedStatus, setSelectedStatus] = useState('all');\r\n  const [viewMode, setViewMode] = useState('grid');\r\n  const [sortBy, setSortBy] = useState('date');\r\n  const [activeTab, setActiveTab] = useState('items');\r\n\r\n  const categories = [\r\n    { value: 'electronic', label: t('categories.electronic') },\r\n    { value: 'clothing', label: t('categories.clothing') },\r\n    { value: 'accessory', label: t('categories.accessory') },\r\n    { value: 'document', label: t('categories.document') },\r\n    { value: 'book', label: t('categories.book') },\r\n    { value: 'other', label: t('categories.other') }\r\n  ];\r\n\r\n  // Mock organization items (in real app, fetch from API)\r\n  const mockItems = [\r\n    {\r\n      _id: 'item_1',\r\n      title: 'Lost Student ID Card',\r\n      category: 'document',\r\n      status: 'Lost',\r\n      location: 'Main Library',\r\n      description: 'Blue student ID card with photo, lost near the entrance',\r\n      imageUrl: 'https://placehold.co/300x200/ef4444/white?text=ID+Card',\r\n      owner: { name: 'John Doe', _id: 'user_1' },\r\n      organization: organization?.id,\r\n      date: '2025-02-01',\r\n      claimed: false\r\n    },\r\n    {\r\n      _id: 'item_2',\r\n      title: 'Found Laptop Charger',\r\n      category: 'electronic',\r\n      status: 'Found',\r\n      location: 'Computer Lab 2',\r\n      description: 'Dell laptop charger found on desk',\r\n      imageUrl: 'https://placehold.co/300x200/10b981/white?text=Charger',\r\n      owner: { name: 'Sarah Wilson', _id: 'user_2' },\r\n      organization: organization?.id,\r\n      date: '2025-02-02',\r\n      claimed: false\r\n    },\r\n    {\r\n      _id: 'item_3',\r\n      title: 'Lost Textbook',\r\n      category: 'book',\r\n      status: 'Lost',\r\n      location: 'Lecture Hall A',\r\n      description: 'Mathematics textbook, 3rd edition',\r\n      imageUrl: 'https://placehold.co/300x200/f59e0b/white?text=Book',\r\n      owner: { name: 'Mike Johnson', _id: 'user_3' },\r\n      organization: organization?.id,\r\n      date: '2025-02-03',\r\n      claimed: false\r\n    }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    // Fetch organization items from API\r\n    const fetchOrganizationItems = async () => {\r\n      if (!organization?.id) return;\r\n      \r\n      setLoading(true);\r\n      try {\r\n        const { organizationsAPI } = await import('../services/api');\r\n        const response = await organizationsAPI.getItems(organization.id);\r\n        console.log('üè¢ Organization items from API:', response.data);\r\n        setItems(response.data || []);\r\n      } catch (error) {\r\n        console.error('Failed to fetch organization items:', error);\r\n        // Use mock data as fallback\r\n        console.log('üè¢ Using mock items as fallback:', mockItems);\r\n        setItems(mockItems);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchOrganizationItems();\r\n  }, [organization]);\r\n\r\n  // Calculate real statistics from actual items\r\n  const organizationStats = useMemo(() => {\r\n    const lostItems = items.filter(item => item.status === 'Lost').length;\r\n    const foundItems = items.filter(item => item.status === 'Found').length;\r\n    const returnedItems = items.filter(item => item.claimed === true).length;\r\n    const activeItems = items.filter(item => item.claimed !== true).length;\r\n    \r\n    return {\r\n      lostItems,\r\n      foundItems,\r\n      returnedItems,\r\n      activeItems,\r\n      totalItems: items.length\r\n    };\r\n  }, [items]);\r\n\r\n  // Filter and sort items\r\n  const filteredItems = useMemo(() => {\r\n    const searchFiltered = filterItemsBySearch(items, searchTerm);\r\n    \r\n    return searchFiltered.filter(item => {\r\n      const matchesCategory = selectedCategory === 'all' || item.category === selectedCategory;\r\n      const matchesStatus = selectedStatus === 'all' || item.status === selectedStatus;\r\n      return matchesCategory && matchesStatus;\r\n    }).sort((a, b) => {\r\n      switch (sortBy) {\r\n        case 'title':\r\n          return a.title.localeCompare(b.title);\r\n        case 'date':\r\n        default:\r\n          return new Date(b.date) - new Date(a.date);\r\n      }\r\n    });\r\n  }, [items, searchTerm, selectedCategory, selectedStatus, sortBy]);\r\n\r\n  const handlePostItem = () => {\r\n    if (!isLoggedIn) {\r\n      alert('Please login to post items');\r\n      setCurrentPage('login');\r\n      return;\r\n    }\r\n    // TODO: Pass organization context to add item modal\r\n    setCurrentPage('add-item');\r\n  };\r\n\r\n  if (!organization) {\r\n    console.log('‚ùå OrganizationDetailPage: No organization provided');\r\n    return (\r\n      <div className={`min-h-screen ${darkMode ? 'bg-gray-900' : 'bg-gray-50'} flex items-center justify-center`}>\r\n        <div className=\"text-center\">\r\n          \r\n          <h3 className={`text-xl font-semibold mb-2 ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n            Organization Not Found\r\n          </h3>\r\n          <p className={`${darkMode ? 'text-gray-400' : 'text-gray-600'} mb-6`}>\r\n            The organization you're looking for doesn't exist or has been removed.\r\n          </p>\r\n          <button\r\n            onClick={onBack}\r\n            className=\"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors\"\r\n          >\r\n            Back to Organizations\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  console.log('‚úÖ OrganizationDetailPage: Organization data:', organization);\r\n\r\n  return (\r\n    <div className={`min-h-screen ${darkMode ? 'bg-gray-900' : 'bg-gray-50'}`}>\r\n      {/* Header */}\r\n      <div className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} border-b`}>\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n          {/* Back Button */}\r\n          <button\r\n            onClick={onBack}\r\n            className={`inline-flex items-center mb-6 px-4 py-2 rounded-xl transition-colors ${\r\n              darkMode \r\n                ? 'text-gray-300 hover:text-white hover:bg-gray-700' \r\n                : 'text-gray-600 hover:text-gray-900 hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            \r\n            Back to Organizations\r\n          </button>\r\n\r\n          {/* Organization Header */}\r\n          <div className=\"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6\">\r\n            <div className=\"flex items-start space-x-6\">\r\n              <img\r\n                src={organization.logo}\r\n                alt={organization.name}\r\n                className=\"w-24 h-24 rounded-2xl object-cover border-4 border-white shadow-lg\"\r\n              />\r\n              \r\n              <div className=\"flex-1\">\r\n                <div className=\"flex items-center space-x-3 mb-2\">\r\n                  <h1 className={`text-3xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                    {organization.name}\r\n                  </h1>\r\n                  \r\n                </div>\r\n                \r\n                <div className=\"flex items-center space-x-4 text-sm mb-3\">\r\n                  <div className={`flex items-center ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                    \r\n                    {organization.location}\r\n                  </div>\r\n                  <div className={`flex items-center ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                    \r\n                    {organization.rating} Rating\r\n                  </div>\r\n                  <div className={`flex items-center ${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>\r\n                    \r\n                    {organizationStats.activeItems} Active Items\r\n                  </div>\r\n                </div>\r\n                \r\n                <p className={`${darkMode ? 'text-gray-300' : 'text-gray-600'} max-w-2xl`}>\r\n                  {organization.description}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"flex items-center space-x-3\">\r\n              {isLoggedIn ? (\r\n                <>\r\n                  <button\r\n                    onClick={() => {\r\n                      // Report item to admin instead of posting directly\r\n                      const reportData = {\r\n                        type: 'item_report',\r\n                        organization: organization.name,\r\n                        organizationId: organization.id,\r\n                        reportedBy: currentUser?.name || 'Anonymous',\r\n                        reporterEmail: currentUser?.email || 'user@email.com',\r\n                        timestamp: new Date().toISOString()\r\n                      };\r\n                      \r\n                      // Open report modal/form\r\n                      window.location.href = `mailto:admin@platform.com?subject=Item Report for ${organization.name}&body=Hello Admin,%0D%0A%0D%0AI want to report an item:%0D%0A%0D%0AOrganization: ${organization.name}%0D%0AReported by: ${currentUser?.name || 'User'}%0D%0AEmail: ${currentUser?.email || 'user@email.com'}%0D%0ADate: ${new Date().toLocaleDateString()}%0D%0A%0D%0AItem Details:%0D%0A[ ] Lost Item%0D%0A[ ] Found Item%0D%0A%0D%0ATitle: %0D%0ACategory: %0D%0ALocation: %0D%0ADescription: %0D%0A%0D%0APlease add this item to the system.%0D%0A%0D%0AThank you!`;\r\n                    }}\r\n                    className=\"inline-flex items-center px-6 py-3 bg-orange-600 text-white rounded-xl hover:bg-orange-700 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2\"\r\n                  >\r\n                    \r\n                    Report Item to Admin\r\n                  </button>\r\n                  \r\n                  <button\r\n                    onClick={() => {\r\n                      // Quick report buttons\r\n                      const quickReport = prompt(`Quick Report for ${organization.name}:\\n\\nEnter item details (Title, Category, Location, Description):`);\r\n                      if (quickReport) {\r\n                        window.location.href = `mailto:admin@platform.com?subject=Quick Item Report - ${organization.name}&body=Hello Admin,%0D%0A%0D%0AQuick item report:%0D%0A%0D%0AOrganization: ${organization.name}%0D%0AReported by: ${currentUser?.name || 'User'}%0D%0ADetails: ${encodeURIComponent(quickReport)}%0D%0A%0D%0APlease add this to the system.%0D%0A%0D%0AThank you!`;\r\n                      }\r\n                    }}\r\n                    className=\"inline-flex items-center px-4 py-3 border-2 border-orange-600 text-orange-600 rounded-xl hover:bg-orange-50 transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2\"\r\n                  >\r\n                    üìù Quick Report\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <div className=\"text-center\">\r\n                  <p className=\"text-gray-600 mb-3\">Login to report items to admin</p>\r\n                  <button\r\n                    onClick={() => setCurrentPage('login')}\r\n                    className=\"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors\"\r\n                  >\r\n                    Login to Report Items\r\n                  </button>\r\n                </div>\r\n              )}\r\n              \r\n              {organization.contact?.website && (\r\n                <a\r\n                  href={organization.contact.website}\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className={`inline-flex items-center px-4 py-3 border rounded-xl transition-colors ${\r\n                    darkMode \r\n                      ? 'border-gray-600 text-gray-300 hover:bg-gray-700' \r\n                      : 'border-gray-300 text-gray-700 hover:bg-gray-50'\r\n                  }`}\r\n                >\r\n                  \r\n                  Visit Website\r\n                </a>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Bar */}\r\n      <div className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} border-b`}>\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\r\n            <div className=\"text-center\">\r\n              <div className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                {organizationStats.lostItems}\r\n              </div>\r\n              <div className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Lost Items</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                {organizationStats.foundItems}\r\n              </div>\r\n              <div className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Found Items</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                {organizationStats.returnedItems}\r\n              </div>\r\n              <div className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Returned</div>\r\n            </div>\r\n            <div className=\"text-center\">\r\n              <div className={`text-2xl font-bold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                {organization.rating}\r\n              </div>\r\n              <div className={`text-sm ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>Rating</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Tabs */}\r\n        <div className=\"mb-8\">\r\n          <div className=\"border-b border-gray-200\">\r\n            <nav className=\"-mb-px flex space-x-8\">\r\n              <button\r\n                onClick={() => setActiveTab('items')}\r\n                className={`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${\r\n                  activeTab === 'items'\r\n                    ? 'border-blue-500 text-blue-600'\r\n                    : darkMode \r\n                      ? 'border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300'\r\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                \r\n                Lost & Found Items ({filteredItems.length})\r\n              </button>\r\n              <button\r\n                onClick={() => setActiveTab('about')}\r\n                className={`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${\r\n                  activeTab === 'about'\r\n                    ? 'border-blue-500 text-blue-600'\r\n                    : darkMode \r\n                      ? 'border-transparent text-gray-400 hover:text-gray-300 hover:border-gray-300'\r\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                \r\n                About Organization\r\n              </button>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Items Tab */}\r\n        {activeTab === 'items' && (\r\n          <>\r\n            {/* Search and Filters */}\r\n            <div className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} rounded-xl border p-6 mb-8`}>\r\n              <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\r\n                {/* Search */}\r\n                <div className=\"flex-1 max-w-md\">\r\n                  <UniversalSearchBar\r\n                    searchTerm={searchTerm}\r\n                    setSearchTerm={setSearchTerm}\r\n                    placeholder=\"Search items in this organization...\"\r\n                    darkMode={darkMode}\r\n                  />\r\n                </div>\r\n\r\n                {/* Filters */}\r\n                <div className=\"flex items-center space-x-4\">\r\n                  <select\r\n                    value={selectedCategory}\r\n                    onChange={(e) => setSelectedCategory(e.target.value)}\r\n                    className={`px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 ${\r\n                      darkMode \r\n                        ? 'bg-gray-700 border-gray-600 text-white' \r\n                        : 'bg-white border-gray-300 text-gray-900'\r\n                    }`}\r\n                  >\r\n                    <option value=\"all\">All Categories</option>\r\n                    {categories.map(cat => (\r\n                      <option key={cat.value} value={cat.value}>\r\n                        {cat.label}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n\r\n                  <select\r\n                    value={selectedStatus}\r\n                    onChange={(e) => setSelectedStatus(e.target.value)}\r\n                    className={`px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 ${\r\n                      darkMode \r\n                        ? 'bg-gray-700 border-gray-600 text-white' \r\n                        : 'bg-white border-gray-300 text-gray-900'\r\n                    }`}\r\n                  >\r\n                    <option value=\"all\">All Status</option>\r\n                    <option value=\"Lost\">Lost Items</option>\r\n                    <option value=\"Found\">Found Items</option>\r\n                  </select>\r\n\r\n                  {/* View Mode Toggle */}\r\n                  <div className={`flex items-center border rounded-xl p-1 ${\r\n                    darkMode ? 'border-gray-600 bg-gray-700' : 'border-gray-300 bg-gray-100'\r\n                  }`}>\r\n                    <button\r\n                      onClick={() => setViewMode('grid')}\r\n                      className={`p-2 rounded-lg transition-colors ${\r\n                        viewMode === 'grid'\r\n                          ? 'bg-blue-600 text-white'\r\n                          : darkMode ? 'text-gray-400 hover:text-white' : 'text-gray-600 hover:text-gray-900'\r\n                      }`}\r\n                    >\r\n                      \r\n                    </button>\r\n                    <button\r\n                      onClick={() => setViewMode('list')}\r\n                      className={`p-2 rounded-lg transition-colors ${\r\n                        viewMode === 'list'\r\n                          ? 'bg-blue-600 text-white'\r\n                          : darkMode ? 'text-gray-400 hover:text-white' : 'text-gray-600 hover:text-gray-900'\r\n                      }`}\r\n                    >\r\n                      \r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Items Grid/List */}\r\n            {loading ? (\r\n              <LoadingState darkMode={darkMode} />\r\n            ) : filteredItems.length === 0 ? (\r\n              <NoItemsFound \r\n                darkMode={darkMode}\r\n                onClearFilters={() => {\r\n                  setSearchTerm('');\r\n                  setSelectedCategory('all');\r\n                  setSelectedStatus('all');\r\n                }}\r\n                onReportItem={() => {\r\n                  if (!isLoggedIn) {\r\n                    alert('Please login to report items');\r\n                    setCurrentPage('login');\r\n                    return;\r\n                  }\r\n                  // Report to admin instead of posting directly\r\n                  window.location.href = `mailto:admin@platform.com?subject=Item Report for ${organization.name}&body=Hello Admin,%0D%0A%0D%0AI want to report an item for ${organization.name}:%0D%0A%0D%0AReported by: ${currentUser?.name || 'User'}%0D%0AEmail: ${currentUser?.email || 'user@email.com'}%0D%0A%0D%0AItem Details:%0D%0A[ ] Lost Item%0D%0A[ ] Found Item%0D%0A%0D%0ATitle: %0D%0ACategory: %0D%0ALocation: %0D%0ADescription: %0D%0A%0D%0APlease add this item to the system.%0D%0A%0D%0AThank you!`;\r\n                }}\r\n                isLoggedIn={isLoggedIn}\r\n                showReportButton={true}\r\n              />\r\n            ) : (\r\n              <div className={\r\n                viewMode === 'grid' \r\n                  ? 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6'\r\n                  : 'space-y-4'\r\n              }>\r\n                {filteredItems.map(item => (\r\n                  <ModernItemCard\r\n                    key={item._id}\r\n                    item={item}\r\n                    isLoggedIn={isLoggedIn}\r\n                    currentUser={currentUser}\r\n                    onClaim={onClaimItem}\r\n                    onContact={onContactOwner}\r\n                    onViewDetails={(item) => {\r\n                      console.log('üè¢ OrganizationDetailPage: onViewDetails called with:', item);\r\n                      console.log('üè¢ Available items in organization:', items);\r\n                      onViewDetails(item);\r\n                    }}\r\n                    viewMode={viewMode}\r\n                    darkMode={darkMode}\r\n                    showOrganization={false} // Don't show org name since we're already in org context\r\n                  />\r\n                ))}\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        {/* About Tab */}\r\n        {activeTab === 'about' && (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n            {/* Contact Information */}\r\n            <div className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} rounded-xl border p-6`}>\r\n              <h3 className={`text-lg font-semibold mb-4 ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                Contact Information\r\n              </h3>\r\n              <div className=\"space-y-4\">\r\n                {organization.contact?.email && (\r\n                  <div className=\"flex items-center\">\r\n                    \r\n                    <a \r\n                      href={`mailto:${organization.contact.email}`}\r\n                      className={`${darkMode ? 'text-blue-400 hover:text-blue-300' : 'text-blue-600 hover:text-blue-800'} transition-colors`}\r\n                    >\r\n                      {organization.contact.email}\r\n                    </a>\r\n                  </div>\r\n                )}\r\n                {organization.contact?.phone && (\r\n                  <div className=\"flex items-center\">\r\n                    \r\n                    <a \r\n                      href={`tel:${organization.contact.phone}`}\r\n                      className={`${darkMode ? 'text-blue-400 hover:text-blue-300' : 'text-blue-600 hover:text-blue-800'} transition-colors`}\r\n                    >\r\n                      {organization.contact.phone}\r\n                    </a>\r\n                  </div>\r\n                )}\r\n                {organization.contact?.website && (\r\n                  <div className=\"flex items-center\">\r\n                    \r\n                    <a \r\n                      href={organization.contact.website}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className={`${darkMode ? 'text-blue-400 hover:text-blue-300' : 'text-blue-600 hover:text-blue-800'} transition-colors`}\r\n                    >\r\n                      {organization.contact.website}\r\n                    </a>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Organization Stats */}\r\n            <div className={`${darkMode ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} rounded-xl border p-6`}>\r\n              <h3 className={`text-lg font-semibold mb-4 ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                Organization Statistics\r\n              </h3>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className={`${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>Total Items Posted</span>\r\n                  <span className={`font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                    {organizationStats.totalItems}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className={`${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>Items Returned</span>\r\n                  <span className={`font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                    {organizationStats.returnedItems}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className={`${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>Success Rate</span>\r\n                  <span className={`font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                    {organizationStats.totalItems > 0 ? Math.round((organizationStats.returnedItems / organizationStats.totalItems) * 100) : 0}%\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className={`${darkMode ? 'text-gray-300' : 'text-gray-600'}`}>Member Since</span>\r\n                  <span className={`font-semibold ${darkMode ? 'text-white' : 'text-gray-900'}`}>\r\n                    {new Date().getFullYear() - 1} {/* Mock data */}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrganizationDetailPage;"],"file":"assets/OrganizationDetailPage-DBiZYmRZ.js"}