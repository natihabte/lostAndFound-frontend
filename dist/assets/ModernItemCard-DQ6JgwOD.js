import{u as y,j as e}from"./index-Iy8zicZ9.js";import{C as f}from"./circle-check-big-CFTT60CK.js";import{E as j}from"./eye-BVImR0vu.js";import{C as w}from"./calendar-CrPmhWw_.js";import{M as v}from"./map-pin-Bs7t3nXu.js";import{T as N}from"./tag-r4h69r7g.js";import{M as $}from"./mail-DoQa2HGT.js";import{T as D}from"./trash-2-B1NMGobO.js";const P=({item:t,isLoggedIn:c,userRole:b,onViewDetails:x,onClaim:m,onDelete:g,onContact:h,darkMode:s})=>{const{t:l,i18n:p}=y(),o=(r,a)=>{if(t.translationKey){const d=`mockItems.${t.translationKey}.${r}`,n=l(d);if(n&&n!==d)return n}return a};p.language;const u=r=>{const a=new Date(r),n=Math.abs(new Date-a),i=Math.ceil(n/(1e3*60*60*24));return i===1?l("time.today"):i===2?l("time.yesterday"):i<=7?l("time.daysAgo",{count:i}):a.toLocaleDateString()};return e.jsxs("div",{className:`${s?"bg-gray-800 border-gray-700":"bg-white border-gray-100"} rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden border group`,children:[e.jsxs("div",{className:`relative aspect-w-16 aspect-h-9 ${s?"bg-gray-700":"bg-gray-100"}`,children:[t.imageUrl&&t.imageUrl!=="local_preview"?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t.imageUrl,alt:o("title",t.title),className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300",onError:r=>{console.warn("Image failed to load:",t.imageUrl),r.target.style.display="none";const a=r.target.parentNode.querySelector(".image-fallback");a&&(a.style.display="flex")},onLoad:r=>{const a=r.target.parentNode.querySelector(".image-fallback");a&&(a.style.display="none")}}),e.jsx("div",{className:`image-fallback absolute inset-0 w-full h-48 ${s?"bg-gradient-to-br from-gray-700 to-gray-800":"bg-gradient-to-br from-gray-100 to-gray-200"} flex items-center justify-center hidden`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2"}),e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-500"} capitalize`,children:l(`categories.${t.category}`)}),e.jsx("p",{className:`text-xs ${s?"text-gray-500":"text-gray-400"} mt-1`,children:"Image not available"})]})})]}):e.jsx("div",{className:`w-full h-48 ${s?"bg-gradient-to-br from-gray-700 to-gray-800":"bg-gradient-to-br from-gray-100 to-gray-200"} flex items-center justify-center`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2"}),e.jsx("p",{className:`text-sm ${s?"text-gray-400":"text-gray-500"} capitalize`,children:l(`categories.${t.category}`)})]})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold shadow-sm ${t.status==="Lost"?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:l(`status.${t.status.toLowerCase()}`)})}),t.claimed&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 border border-blue-200 shadow-sm flex items-center",children:[e.jsx(f,{className:"h-3 w-3 mr-1"}),l("status.claimed")]})}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsxs("button",{onClick:r=>{if(r.preventDefault(),r.stopPropagation(),console.log("ðŸ” View Details clicked for item:",t),x)x(t);else{const a=new CustomEvent("viewItemDetails",{detail:{item:t}});window.dispatchEvent(a)}},className:`${s?"bg-gray-800 text-white hover:bg-gray-700":"bg-white text-gray-900 hover:bg-gray-50"} px-4 py-2 rounded-lg font-medium shadow-lg transition-colors flex items-center space-x-2 focus:outline-none focus:ring-2 focus:ring-blue-500`,children:[e.jsx(j,{className:"h-5 w-5"}),e.jsx("span",{children:l("items.viewDetails")||"View Details"})]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:`font-semibold ${s?"text-white":"text-gray-900"} text-lg leading-tight line-clamp-2`,children:o("title",t.title)}),e.jsxs("div",{className:`flex items-center text-xs ${s?"text-gray-400":"text-gray-500"} ml-3`,children:[e.jsx(w,{className:"h-3 w-3 mr-1"}),u(t.date||t.createdAt)]})]}),e.jsx("p",{className:`${s?"text-gray-300":"text-gray-600"} text-sm mb-4 line-clamp-2`,children:o("description",t.description)}),e.jsxs("div",{className:`flex items-center text-sm ${s?"text-gray-400":"text-gray-500"} mb-4`,children:[e.jsx(v,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:o("location",t.location)})]}),e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${s?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:[e.jsx(N,{className:"h-3 w-3 mr-1"}),l(`categories.${t.category}`)]})}),e.jsxs("div",{className:`flex items-center justify-between pt-4 border-t ${s?"border-gray-700":"border-gray-100"}`,children:[e.jsx("div",{className:"flex items-center space-x-3",children:c&&e.jsxs("button",{onClick:()=>h&&h(t),className:`flex items-center ${s?"text-gray-400 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-colors`,children:[e.jsx($,{className:"h-4 w-4 mr-1"}),e.jsx("span",{className:"text-sm",children:l("items.contact")})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[c&&!t.claimed&&m&&e.jsx("button",{onClick:()=>m(t._id||t.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t.status==="Lost"?"bg-green-600 text-white hover:bg-green-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:t.status==="Lost"?l("items.iFoundThis"):l("items.thisIsMine")}),c&&e.jsx("button",{onClick:()=>{var a;const r=prompt(`Report this item to admin:

1. Incorrect information
2. Inappropriate content
3. Already returned
4. Other issue

Please describe the issue:`);r&&(window.location.href=`mailto:admin@platform.com?subject=Item Report - ${t.title}&body=Hello Admin,%0D%0A%0D%0AI want to report an issue with this item:%0D%0A%0D%0AItem: ${encodeURIComponent(t.title)}%0D%0AItem ID: ${encodeURIComponent(t._id||t.id)}%0D%0ALocation: ${encodeURIComponent(t.location)}%0D%0AStatus: ${t.status}%0D%0A%0D%0AReported by: ${((a=t.owner)==null?void 0:a.name)||"User"}%0D%0AIssue: ${encodeURIComponent(r)}%0D%0A%0D%0APlease review this item.%0D%0A%0D%0AThank you!`)},className:"px-3 py-2 text-xs bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200 transition-colors",title:"Report issue with this item",children:"ðŸš¨ Report"}),b==="admin"&&g&&e.jsx("button",{onClick:()=>g(t._id||t.id),className:`p-2 rounded-lg transition-colors ${s?"text-red-400 hover:bg-red-900/20":"text-red-600 hover:bg-red-50"}`,children:e.jsx(D,{className:"h-4 w-4"})})]})]})]})]})};export{P as M};
//# sourceMappingURL=ModernItemCard-DQ6JgwOD.js.map
